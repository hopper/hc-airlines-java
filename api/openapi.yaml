openapi: 3.0.3
info:
  title: Airline API
  version: v1.1
tags:
- name: HTS Ancillaries for Airlines
  description: |-
    **Hopper Technology Solutions (HTS) Ancillaries for Airlines**

    HTS (Hopper Technology Solutions) is providing airlines with its ancillary services. Airlines can integrate these ancillaries within their booking flow to offer additional benefits to their customers. Not only do these ancillaries generate sizable incremental revenue to the airlines, but they also delight their customers by offering them more flexibility and peace of mind.

    Two services are currently available through the HTS Ancillaries for Airlines API:

    - Cancel For Any Reason™ (CFAR), enabling airlines to offer refundability as an ancillary with HTS powering the dynamic pricing and supporting the refund cost.
    - Disruption Guarantee™ (DG), offering a premium disruption assistance service to customers in case of flight disruption, including rebooking options on any airline or a refund option.
- name: Authentication
  description: |-
    This API is authenticated with OAuth 2, Client Credentials grant.\
    Clients should use their `client_id` and `client_secret` to obtain an `access_token`.\
    The `access_token` should be included in every request, as a `Bearer` token on an `Authorization` header.\
    Note that `access_token`s eventually expire, requiring a new token to be fetched.

    see [authentication](#tag/Authentication)
- name: Sessions
  description: "Hopper uses a unique ID to correlate API calls and events produced\
    \ by a user's interaction with an airline application.\nThe duration of the user's\
    \ interactions is called a \"session\", and the correlation ID is called a `session_id`.\n\
    \nA session begins immediately before the airline’s first API call to Hopper,\
    \ and the airline must call the Create a Session endpoint at this time. \nA `session_id`\
    \ is returned from this call; it must be included with each subsequent API call\
    \ via the `HC-Session-ID` header. \nNo airline action is required to end the session.\n"
- name: Cancel For Any Reason (CFAR)
  description: |
    **What is Cancel For Any Reason?**

    Cancel For Any Reason (CFAR) enables airlines to offer refundability as an ancillary with HTS powering the dynamic pricing and supporting the refund cost.

    ****

    **How it works**

    There are two distinct flows for CFAR:

    - The _purchase flow_, enabling customers to purchase the product within the airline’s booking flow.
    - The _exercise flow_, enabling customers to cancel their booking and get a refund.

    For each of these flows, the first step is to [Create a Session](#operation/postSessions)

    Both the purchase and the exercise of CFAR should be tracked by the airline in the airline’s Passenger Name Record (PNR) according to the applicable industry standards.

    ****

    **Purchase flow**

    CFAR follows the industry standard of a two step purchase process.

    1. Once the user is landing on the page displaying the CFAR offer, the airline will call the [Create CFAR Offers](#operation/postCfar_offers) endpoint. CFAR Offers can be created at multiple granular levels. The request must include a description of the Itinerary for which the offers are requested. The response will contain

       - the price for the product (`premium`),
       - the refundable amount (`coverage`),
       - the UTC date and time until when the cancellation can be requested (`contract_expiry_date_time`)
       - and the description of the offer in the available languages (`contents`).

    2. If a user is attaching CFAR to his booking, the airline will call the [Create CFAR Contract](#operation/postCfar_contracts) endpoint. The request must include the selected `offer_id`(s) and a description of the Itinerary for which the contract is requested, which must match the one of the Offer(s). At this stage, the CFAR Contract is only _created_. It will be confirmed once the customer has made the payment, which can be done in two ways:

        1. If the airline is the Merchant of Records (MoR), it will capture the payment for the total amount of the booking, including the CFAR fee amount. Upon a successful payment, the airline will call the Update CFAR Contract Status endpoint to set the CFAR contract to _confirmed_. The airline will track this purchase in its PNR following the industry standards that apply to ticketing or ticketless carriers.
        2. If HTS is the Merchant of Records (MoR), the airline will capture the payment for the amount of the booking excluding the CFAR fee, while HTS will capture the payment for the CFAR fee amount. Upon a successful payment of its portion, the airline will call the Process CFAR Payment endpoint for HTS to capture the payment for the CFAR fee amount. Once successful, the CFAR contract will be set to _confirmed_. The airline will track this purchase in its PNR.

    The details of a CFAR contract can be retrieved at any time through the Get a CFAR Contract endpoint.

    ****

    **Exercise flow**

    CFAR exercise follows a two step process.

    1. The user will request the exercise from the “Manage My Bookings” (MMB) page of the airline, through a dedicated Call to action displayed based on the tracker added to the PNR at the time of booking. Once the user is requesting the exercise, the airline will call the [Create CFAR Exercise](#operation/postCfar_contract_exercises) endpoint to authorize the exercise. The request must include the Contract ID, the Itinerary at the time of the exercise request and some optional information on the refund option that may be offered by the airline. If eligible to the exercise, the response will contain the refundable amounts, both in cash and Future Travel Credit (FTC) if applicable.
    2. Once the user has followed the steps of the refund portal and confirmed the cancellation request, HTS will make a call back to the airline to launch the PNR update flow on the airline’s end. The actual PNR update flow depends on each airline’s specifics and is not described here. Upon a successful update of the PNR, the airline will confirm the exercise to HTS by calling the [Complete CFAR Exercise](#operation/putCfar_contract_exercisesIdMark_completed) endpoint.
- name: Disruption Guarantee (DG)
  description: "**What is Disruption Guarantee?**\n\nDisruption Guarantee (DG) offers\
    \ a premium disruption assistance service to customers in case of flight disruption,\
    \ including rebooking options on any airline or a refund option.\n\n****\n\n**How\
    \ it works**\n\nThere are two distinct flows for DG:\n\n- The _purchase flow_,\
    \ enabling customers to purchase the product within the airline’s booking flow.\n\
    - The _exercise flow_, enabling customers to benefit from the premium disruption\
    \ assistance service in case of a flight disruption.\n\nFor the _purchase flow_,\
    \ the first step is to [Create a Session](#operation/postSessions)\n\nBoth the\
    \ purchase and the exercise of DG should be tracked by the airline in the airline’\
    s Passenger Name Record (PNR) according to the applicable industry standards.\n\
    \n****\n\n**Purchase flow**\n\nDG follows the industry standard of a two step\
    \ purchase process.\n\n1. Once the user is landing on the page displaying the\
    \ DG offer, the airline will call the [Create DG Offers](#operation/postDg_offers)\
    \ endpoint. DG Offers can be created at multiple granular levels. The request\
    \ must include a description of the Itinerary for which the offers are requested.\
    \ The response will contain\n\n   - the price for the product (`premium`),\n \
    \  - the refundable amount (`coverage`),\n   - the maximum price per passenger\
    \ for a new flight (`service_cap`),\n   - the delay threshold to trigger the policy\
    \ (`min_minuted_delay`),\n   - the start of the timeframe to trigger the policy\
    \ (`max_hours_before_departure`)\n   - and the description of the offer in the\
    \ user’s language (`contents`).\n\n2. If a user is attaching DG to his booking,\
    \ the airline will call the [Create DG Contract](#operation/postDg_contracts)\
    \ endpoint. The request must include the selected offer\\_id(s) and a description\
    \ of the Itinerary for which the contract is requested, which must match the one\
    \ of the Offer. At this stage, the DG Contract is only _created_. It will be confirmed\
    \ once the customer has made the payment, which can be done in two ways:\n\n \
    \  1. If the airline is the Merchant of Records (MoR), it will capture the payment\
    \ for the total amount of the booking, including the DG fee amount. Upon a successful\
    \ payment, the airline will call the Update DG Contract Status endpoint to set\
    \ the DG contract to _confirmed_. The airline will track this purchase in its\
    \ PNR following the industry standards that apply to ticketing or ticketless carriers.\n\
    \   2. If HTS is the Merchant of Records (MoR), the airline will capture the payment\
    \ for the amount of the booking excluding the DG fee, while HTS will capture the\
    \ payment for the DG fee amount. Upon a successful payment of its portion, the\
    \ airline will call the Process DG Payment endpoint for HTS to capture the payment\
    \ for the DG fee amount. Once successful, the DG contract will be set to _confirmed_.\
    \ The airline will track this purchase in its PNR.\n   \nThe details of a DG contract\
    \ can be retrieved at any time through the [Get a DG Contract](#operation/getDg_contractsId)\
    \ endpoint.\n\n****\n\n**Exercise flow**\n\nIn this version of the API, the DG\
    \ exercise is powered by HTS as a standalone flow, without any endpoint publicly\
    \ exposed.\\\nIn a future version of the API, the DG exercise will be initialized\
    \ from the “Manage My Bookings” (MMB) page of the airline. New endpoints will\
    \ be released to that purpose.\n"
- name: Analytics
  description: In order to measure and continuously improve HTS Ancillaries performance,
    specific events occurring during a customer session can be sent by the partner
    airlines using some dedicated endpoints.
servers:
- url: /airline/v1.1
paths:
  /events:
    post:
      tags:
      - Analytics
      summary: Send a Backend Event
      description: Events can be send directly from partner backend using the same
        authentication as the other endpoints
      operationId: postEvents
      parameters:
      - name: HC-Session-ID
        in: header
        description: The ID of the current airline session, see [Sessions](#tag/Sessions)
        required: true
        schema:
          type: string
        example: 9fd3f2f9-e5aa-4128-ace9-3c4ee37b685f
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/event'
        required: true
      responses:
        '204':
          description: The event has been successfully created
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
        '400':
          description: Syntactic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/bad_request'
        '401':
          description: The client could not be authenticated
        '403':
          description: The authenticated client does not have permission to call this
            endpoint
        '404':
          description: The requested resource could not be found
        '422':
          description: Semantic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/unprocessable_entity'
        '500':
          description: The server encountered an internal error
      security:
      - PartnerAuth: []
        apiKeyAuth: []
  /sessions:
    post:
      tags:
      - Sessions
      summary: Create a Session
      description: Create a new session for which events will be collected.
      operationId: postSessions
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/create_airline_session_request'
        required: true
      responses:
        '201':
          description: The created airline session
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/airline_session'
        '204':
          description: The airline session creation request was not performed
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
        '400':
          description: Syntactic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/bad_request'
        '401':
          description: The client could not be authenticated
        '403':
          description: The authenticated client does not have permission to call this
            endpoint
        '404':
          description: The requested resource could not be found
        '422':
          description: Semantic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/unprocessable_entity'
        '500':
          description: The server encountered an internal error
      security:
      - PartnerAuth: []
        apiKeyAuth: []
  /cfar_offers:
    post:
      tags:
      - Cancel For Any Reason (CFAR)
      summary: Create CFAR Offers
      description: Create CFAR offers for a user's trip
      operationId: postCfar_offers
      parameters:
      - name: HC-Session-ID
        in: header
        description: The ID of the current airline session, see [Sessions](#tag/Sessions)
        required: false
        schema:
          type: string
        example: 9fd3f2f9-e5aa-4128-ace9-3c4ee37b685f
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/create_cfar_offer_request'
        required: true
      responses:
        '201':
          description: The created CFAR offers
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
            HTS-Session-ID:
              description: The ID of the current session, see [Sessions](#tag/Sessions)
              required: true
              schema:
                type: string
              example: 9fd3f2f9-e5aa-4128-ace9-3c4ee37b685f
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/cfar_offer'
        '400':
          description: Syntactic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/bad_request'
        '401':
          description: The client could not be authenticated
        '403':
          description: The authenticated client does not have permission to call this
            endpoint
        '404':
          description: The requested resource could not be found
        '422':
          description: Semantic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/unprocessable_entity'
        '500':
          description: The server encountered an internal error
      security:
      - PartnerAuth: []
        apiKeyAuth: []
  /cfar_offers/external:
    post:
      tags:
      - Cancel For Any Reason (CFAR)
      summary: Create External CFAR Offer
      description: Create a CFAR offer with externally provided pricing and coverage
        details (temporal API for data migration)
      operationId: postCfar_offersExternal
      parameters:
      - name: HC-Session-ID
        in: header
        description: The ID of the current airline session, see [Sessions](#tag/Sessions)
        required: false
        schema:
          type: string
        example: 9fd3f2f9-e5aa-4128-ace9-3c4ee37b685f
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/create_external_cfar_offer_request'
        required: true
      responses:
        '201':
          description: The created CFAR offer
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
            HTS-Session-ID:
              description: The ID of the current session, see [Sessions](#tag/Sessions)
              required: true
              schema:
                type: string
              example: 9fd3f2f9-e5aa-4128-ace9-3c4ee37b685f
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/cfar_offer'
        '400':
          description: Syntactic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/bad_request'
        '401':
          description: The client could not be authenticated
        '403':
          description: The authenticated client does not have permission to call this
            endpoint
        '404':
          description: The requested resource could not be found
        '422':
          description: Semantic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/unprocessable_entity'
        '500':
          description: The server encountered an internal error
      security:
      - PartnerAuth: []
        apiKeyAuth: []
  /cfar_contracts:
    post:
      tags:
      - Cancel For Any Reason (CFAR)
      summary: Create a CFAR Contract
      description: Create a CFAR contract from selected CFAR offer(s).
      operationId: postCfar_contracts
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/create_cfar_contract_request'
        required: true
      responses:
        '201':
          description: The created CFAR contract
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/cfar_contract'
        '204':
          description: The CFAR contract creation request was successfully validated
            but not performed
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
        '400':
          description: Syntactic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/bad_request'
        '401':
          description: The client could not be authenticated
        '403':
          description: The authenticated client does not have permission to call this
            endpoint
        '404':
          description: The requested resource could not be found
        '422':
          description: Semantic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/unprocessable_entity'
        '500':
          description: The server encountered an internal error
      security:
      - PartnerAuth: []
        apiKeyAuth: []
  /cfar_contracts/{id}:
    get:
      tags:
      - Cancel For Any Reason (CFAR)
      summary: Get a CFAR Contract
      description: Get a CFAR contract
      operationId: getCfar_contractsId
      parameters:
      - name: id
        in: path
        description: A unique identifier for a contract
        required: true
        schema:
          type: string
      - name: HC-Session-ID
        in: header
        description: The ID of the current airline session, see [Sessions](#tag/Sessions)
        required: false
        schema:
          type: string
        example: 9fd3f2f9-e5aa-4128-ace9-3c4ee37b685f
      responses:
        '200':
          description: The requested CFAR contract
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/cfar_contract'
        '400':
          description: Syntactic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/bad_request'
        '401':
          description: The client could not be authenticated
        '403':
          description: The authenticated client does not have permission to call this
            endpoint
        '404':
          description: The requested resource could not be found
        '422':
          description: Semantic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/unprocessable_entity'
        '500':
          description: The server encountered an internal error
      security:
      - PartnerAuth: []
        apiKeyAuth: []
  /cfar_contracts/{id}/update_status:
    put:
      tags:
      - Cancel For Any Reason (CFAR)
      summary: Update CFAR Contract Status
      description: Update the CFAR contract
      operationId: putCfar_contractsIdUpdate_status
      parameters:
      - name: id
        in: path
        description: A unique identifier for a contract
        required: true
        schema:
          type: string
      - name: HC-Session-ID
        in: header
        description: The ID of the current airline session, see [Sessions](#tag/Sessions)
        required: false
        schema:
          type: string
        example: 9fd3f2f9-e5aa-4128-ace9-3c4ee37b685f
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/update_cfar_contract_request'
        required: true
      responses:
        '200':
          description: The updated CFAR contract
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/cfar_contract'
        '204':
          description: The CFAR contract status update request was successfully validated
            but not performed
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
        '400':
          description: Syntactic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/bad_request'
        '401':
          description: The client could not be authenticated
        '403':
          description: The authenticated client does not have permission to call this
            endpoint
        '404':
          description: The requested resource could not be found
        '422':
          description: Semantic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/unprocessable_entity'
        '500':
          description: The server encountered an internal error
      security:
      - PartnerAuth: []
        apiKeyAuth: []
  /cfar_contracts/{id}/forms_of_payment:
    put:
      tags:
      - Cancel For Any Reason (CFAR)
      summary: Update forms of payment of a CFAR Contract
      description: Update forms of payment linked with a CFAR contract
      operationId: putCfar_contractsIdForms_of_payment
      parameters:
      - name: id
        in: path
        description: A unique identifier for a contract
        required: true
        schema:
          type: string
      - name: HC-Session-ID
        in: header
        description: The ID of the current airline session, see [Sessions](#tag/Sessions)
        required: false
        schema:
          type: string
        example: 9fd3f2f9-e5aa-4128-ace9-3c4ee37b685f
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/update_cfar_form_of_payment_request'
        required: true
      responses:
        '200':
          description: The updated CFAR contract
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/cfar_contract'
        '204':
          description: Forms of payment update request was successfully validated
            but not performed
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
        '400':
          description: Syntactic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/bad_request'
        '401':
          description: The client could not be authenticated
        '403':
          description: The authenticated client does not have permission to call this
            endpoint
        '404':
          description: The requested resource could not be found
        '422':
          description: Semantic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/unprocessable_entity'
        '500':
          description: The server encountered an internal error
      security:
      - PartnerAuth: []
        apiKeyAuth: []
  /cfar_contracts/{id}/payment:
    post:
      tags:
      - Cancel For Any Reason (CFAR)
      summary: Process CFAR Payment
      description: "When HTS is the Merchant of Record (MoR), the customer's credit\
        \ card is charged by HTS for the CFAR fee.\n\nHTS is relying on an external\
        \ payment gateway to process the payments, it allows the partner airline to\
        \ tokenize the customer's credit card details and then pass the generated\
        \ token in HTS Ancillaries for Airlines API payment endpoints in order to\
        \ process the payment and confirm the contract related to the purchased product.\n\
        \n**Token URL**: https://core.spreedly.com/v1/payment_methods.json\n  \n**Example\
        \ Token Request**:  \n  \n```  \ncurl --request POST --url https://core.spreedly.com/v1/payment_methods.json\
        \ --header 'content-type: application/json' -u  \"login:password\" --data\
        \ '{\n\t\"payment_method\": {\n\t\t\"email\": \"aaa@bbb.ccc\",\n\t\t\"credit_card\"\
        : {\n\t\t\t\"number\": \"4111111111111111\",\n\t\t\t\"month\": \"09\",\n\t\
        \t\t\"year\": \"2029\",\n\t\t\t\"first_name\": \"John\",\n\t\t\t\"last_name\"\
        : \"Smith\",\n\t\t\t\"address1\": \"123 12th St\",\n\t\t\t\"address2\": \"\
        Building B\",\n\t\t\t\"city\": \"Quebec City\",\n\t\t\t\"state\": \"QC\",\n\
        \t\t\t\"zip\": \"G1R 4S9\",\n\t\t\t\"country\": \"CA\",\n\t\t\t\"verification_value\"\
        : \"123\"\n\t\t}\n\t}\n}'\n```\n**Example Token Response**:  \n```  \n{\n\t\
        \"transaction\":  {\n\t\t\"token\":  \"KtToV20m9qT1Yi8pbTeLNz0Ypns\",\n\t\t\
        \"created_at\":  \"2023-11-29T13:31:56Z\",\n\t\t\"updated_at\":  \"2023-11-29T13:31:56Z\"\
        ,\n\t\t\"succeeded\":  true,\n\t\t\"transaction_type\":  \"AddPaymentMethod\"\
        ,\n\t\t\"retained\":  false,\n\t\t\"state\":  \"succeeded\",\n\t\t\"message_key\"\
        :  \"messages.transaction_succeeded\",\n\t\t\"message\":  \"Succeeded!\",\n\
        \t\t\"payment_method\":  {\n\t\t\t\"token\":  \"MxyYEhDK12CUAA18bJDkAq0ab3y\"\
        ,\n\t\t\t\"created_at\":  \"2023-11-29T13:31:56Z\",\n\t\t\t\"updated_at\"\
        :  \"2023-11-29T13:31:56Z\",\n\t\t\t\"email\":  \"aaa@bbb.ccc\",\n\t\t\t\"\
        data\":  null,\n\t\t\t\"storage_state\":  \"cached\",\n\t\t\t\"test\":  true,\n\
        \t\t\t\"metadata\":  null,\n\t\t\t\"callback_url\":  null,\n\t\t\t\"last_four_digits\"\
        :  \"1111\",\n\t\t\t\"first_six_digits\":  \"411111\",\n\t\t\t\"card_type\"\
        :  \"visa\",\n\t\t\t\"first_name\":  \"John\",\n\t\t\t\"last_name\":  \"Smith\"\
        ,\n\t\t\t\"month\":  9,\n\t\t\t\"year\":  2029,\n\t\t\t\"address1\":  \"123\
        \ 12th St\",\n\t\t\t\"address2\":  \"Building B\",\n\t\t\t\"city\":  \"Quebec\
        \ City\",\n\t\t\t\"state\":  \"QC\",\n\t\t\t\"zip\":  \"G1R 4S9\",\n\t\t\t\
        \"country\":  \"CA\",\n\t\t\t\"phone_number\":  null,\n\t\t\t\"company\":\
        \  null,\n\t\t\t\"full_name\":  \"John Smith\",\n\t\t\t\"eligible_for_card_updater\"\
        :  true,\n\t\t\t\"shipping_address1\":  null,\n\t\t\t\"shipping_address2\"\
        :  null,\n\t\t\t\"shipping_city\":  null,\n\t\t\t\"shipping_state\":  null,\n\
        \t\t\t\"shipping_zip\":  null,\n\t\t\t\"shipping_country\":  null,\n\t\t\t\
        \"shipping_phone_number\":  null,\n\t\t\t\"issuer_identification_number\"\
        :  \"41111111\",\n\t\t\t\"click_to_pay\":  false,\n\t\t\t\"managed\":  true,\n\
        \t\t\t\"payment_method_type\":  \"credit_card\",\n\t\t\t\"errors\":  [],\n\
        \t\t\t\"bin_metadata\":  {\n\t\t\t\t\"message\":  \"BIN Metadata is available\
        \ only to Advanced Vault enrolled customers and payment methods. Reach out\
        \ to your account representative for more details.\"\n\t\t\t},\n\t\t\t\"fingerprint\"\
        :  \"7ccffcf38900f224fc946cf2a9c8e260072b\",\n\t\t\t\"verification_value\"\
        :  \"XXX\",\n\t\t\t\"number\":  \"XXXX-XXXX-XXXX-1111\"\n\t\t}\n\t}\n}\n```\n\
        Here the returned payment method token **MxyYEhDK12CUAA18bJDkAq0ab3y** has\
        \ to be used in the Process CFAR Payment request below."
      operationId: postCfar_contractsIdPayment
      parameters:
      - name: id
        in: path
        description: A unique identifier for a contract
        required: true
        schema:
          type: string
      - name: HC-Session-ID
        in: header
        description: The ID of the current airline session, see [Sessions](#tag/Sessions)
        required: false
        schema:
          type: string
        example: 9fd3f2f9-e5aa-4128-ace9-3c4ee37b685f
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/process_cfar_payment_request'
        required: true
      responses:
        '200':
          description: The result of the transaction
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/cfar_payment'
        '400':
          description: Syntactic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/bad_request'
        '401':
          description: The client could not be authenticated
        '403':
          description: The authenticated client does not have permission to call this
            endpoint
        '404':
          description: The requested resource could not be found
        '422':
          description: Semantic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/unprocessable_entity'
        '500':
          description: The server encountered an internal error
      security:
      - PartnerAuth: []
        apiKeyAuth: []
  /cfar_contracts/{id}/itinerary_slices:
    put:
      tags:
      - Cancel For Any Reason (CFAR)
      summary: Update CFAR Contract Itinerary Slices
      description: Update itinerary slices of a CFAR contract.
      operationId: putCfar_contractsIdItinerary_slices
      parameters:
      - name: id
        in: path
        description: A unique identifier for a contract
        required: true
        schema:
          type: string
      - name: HC-Session-ID
        in: header
        description: The ID of the current airline session, see [Sessions](#tag/Sessions)
        required: false
        schema:
          type: string
        example: 9fd3f2f9-e5aa-4128-ace9-3c4ee37b685f
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/update_cfar_contract_itinerary_slices_request'
        required: true
      responses:
        '200':
          description: The updated CFAR contract
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/cfar_contract'
        '204':
          description: The CFAR Contract Itinerary Slices update request was successfully
            validated but not performed
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
        '400':
          description: Syntactic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/bad_request'
        '401':
          description: The client could not be authenticated
        '403':
          description: The authenticated client does not have permission to call this
            endpoint
        '404':
          description: The requested resource could not be found
        '422':
          description: Semantic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/unprocessable_entity'
        '500':
          description: The server encountered an internal error
      security:
      - PartnerAuth: []
        apiKeyAuth: []
  /cfar_contracts/{id}/passenger_info:
    put:
      tags:
      - Cancel For Any Reason (CFAR)
      summary: Update CFAR Contract Passenger Information
      description: Update passenger information of a CFAR contract.
      operationId: putCfar_contractsIdPassenger_info
      parameters:
      - name: id
        in: path
        description: A unique identifier for a contract
        required: true
        schema:
          type: string
      - name: HC-Session-ID
        in: header
        description: The ID of the current airline session, see [Sessions](#tag/Sessions)
        required: false
        schema:
          type: string
        example: 9fd3f2f9-e5aa-4128-ace9-3c4ee37b685f
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/update_cfar_contract_passenger_info_request'
        required: true
      responses:
        '200':
          description: The updated CFAR contract
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/cfar_contract'
        '204':
          description: The CFAR Contract Passenger Information update request was
            successfully validated but not performed
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
        '400':
          description: Syntactic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/bad_request'
        '401':
          description: The client could not be authenticated
        '403':
          description: The authenticated client does not have permission to call this
            endpoint
        '404':
          description: The requested resource could not be found
        '422':
          description: Semantic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/unprocessable_entity'
        '500':
          description: The server encountered an internal error
      security:
      - PartnerAuth: []
        apiKeyAuth: []
  /cfar_contract_exercises:
    post:
      tags:
      - Cancel For Any Reason (CFAR)
      summary: Create CFAR Exercise
      description: Record that a request to exercise a CFAR contract has occurred.
      operationId: postCfar_contract_exercises
      parameters:
      - name: HC-Session-ID
        in: header
        description: The ID of the current airline session, see [Sessions](#tag/Sessions)
        required: false
        schema:
          type: string
        example: 9fd3f2f9-e5aa-4128-ace9-3c4ee37b685f
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/create_cfar_contract_exercise_request'
        required: true
      responses:
        '201':
          description: The created CFAR contract exercise
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/cfar_contract_exercise'
        '400':
          description: Syntactic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/bad_request'
        '401':
          description: The client could not be authenticated
        '403':
          description: The authenticated client does not have permission to call this
            endpoint
        '404':
          description: The requested resource could not be found
        '422':
          description: Semantic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/unprocessable_entity'
        '500':
          description: The server encountered an internal error
      security:
      - PartnerAuth: []
        apiKeyAuth: []
  /cfar_contract_exercises/{id}/mark_completed:
    put:
      tags:
      - Cancel For Any Reason (CFAR)
      summary: Complete CFAR Exercise
      description: Record that a request to exercise a CFAR contract has been completed
      operationId: putCfar_contract_exercisesIdMark_completed
      parameters:
      - name: id
        in: path
        description: A unique identifier for a exercise
        required: true
        schema:
          type: string
      - name: HC-Session-ID
        in: header
        description: The ID of the current airline session, see [Sessions](#tag/Sessions)
        required: false
        schema:
          type: string
        example: 9fd3f2f9-e5aa-4128-ace9-3c4ee37b685f
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/mark_cfar_contract_exercise_complete_request'
        required: true
      responses:
        '200':
          description: The updated CFAR contract exercise
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/cfar_contract_exercise'
        '400':
          description: Syntactic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/bad_request'
        '401':
          description: The client could not be authenticated
        '403':
          description: The authenticated client does not have permission to call this
            endpoint
        '404':
          description: The requested resource could not be found
        '422':
          description: Semantic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/unprocessable_entity'
        '500':
          description: The server encountered an internal error
      security:
      - PartnerAuth: []
        apiKeyAuth: []
  /dg_offers:
    post:
      tags:
      - Disruption Guarantee (DG)
      summary: Create DG Offers
      description: Create DG offers for a user's trip
      operationId: postDg_offers
      parameters:
      - name: HC-Session-ID
        in: header
        description: The ID of the current airline session, see [Sessions](#tag/Sessions)
        required: false
        schema:
          type: string
        example: 9fd3f2f9-e5aa-4128-ace9-3c4ee37b685f
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/create_dg_offers_request'
        required: true
      responses:
        '201':
          description: The created DG offers
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
            HTS-Session-ID:
              description: The ID of the current session, see [Sessions](#tag/Sessions)
              required: true
              schema:
                type: string
              example: 9fd3f2f9-e5aa-4128-ace9-3c4ee37b685f
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/create_dg_offer_item_response'
        '400':
          description: Syntactic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/bad_request'
        '401':
          description: The client could not be authenticated
        '403':
          description: The authenticated client does not have permission to call this
            endpoint
        '404':
          description: The requested resource could not be found
        '422':
          description: Semantic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/unprocessable_entity'
        '500':
          description: The server encountered an internal error
      security:
      - PartnerAuth: []
        apiKeyAuth: []
  /dg_contracts:
    post:
      tags:
      - Disruption Guarantee (DG)
      summary: Create a DG Contract
      description: Create a DG contract from selected DG offer(s).
      operationId: postDg_contracts
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/create_dg_contract_request'
        required: true
      responses:
        '201':
          description: The created DG contract
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/dg_contract'
        '204':
          description: The DG contract creation request was successfully validated
            but not performed
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
        '400':
          description: Syntactic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/bad_request'
        '401':
          description: The client could not be authenticated
        '403':
          description: The authenticated client does not have permission to call this
            endpoint
        '404':
          description: The requested resource could not be found
        '422':
          description: Semantic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/unprocessable_entity'
        '500':
          description: The server encountered an internal error
      security:
      - PartnerAuth: []
        apiKeyAuth: []
  /dg_contracts/{id}:
    get:
      tags:
      - Disruption Guarantee (DG)
      summary: Get a DG contract
      description: Get a DG contract
      operationId: getDg_contractsId
      parameters:
      - name: id
        in: path
        description: A unique identifier for a contract
        required: true
        schema:
          type: string
      responses:
        '200':
          description: The requested DG contract
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/dg_contract'
        '400':
          description: Syntactic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/bad_request'
        '401':
          description: The client could not be authenticated
        '403':
          description: The authenticated client does not have permission to call this
            endpoint
        '404':
          description: The requested resource could not be found
        '422':
          description: Semantic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/unprocessable_entity'
        '500':
          description: The server encountered an internal error
      security:
      - PartnerAuth: []
        apiKeyAuth: []
  /dg_contracts/{id}/payment:
    post:
      tags:
      - Disruption Guarantee (DG)
      summary: Process DG payment
      description: "When HTS is the Merchant of Record (MoR), the customer's credit\
        \ card is charged by HTS for the DG fee.\n\nHTS is relying on an external\
        \ payment gateway to process the payments, it allows the partner airline to\
        \ tokenize the customer's credit card details and then pass the generated\
        \ token in HTS Ancillaries for Airlines API payment endpoints in order to\
        \ process the payment and confirm the contract related to the purchased product.\n\
        \n**Token URL**: https://core.spreedly.com/v1/payment_methods.json\n  \n**Example\
        \ Token Request**:  \n  \n```  \ncurl --request POST --url https://core.spreedly.com/v1/payment_methods.json\
        \ --header 'content-type: application/json' -u  \"login:password\" --data\
        \ '{\n\t\"payment_method\": {\n\t\t\"email\": \"aaa@bbb.ccc\",\n\t\t\"credit_card\"\
        : {\n\t\t\t\"number\": \"4111111111111111\",\n\t\t\t\"month\": \"09\",\n\t\
        \t\t\"year\": \"2029\",\n\t\t\t\"first_name\": \"John\",\n\t\t\t\"last_name\"\
        : \"Smith\",\n\t\t\t\"address1\": \"123 12th St\",\n\t\t\t\"address2\": \"\
        Building B\",\n\t\t\t\"city\": \"Quebec City\",\n\t\t\t\"state\": \"QC\",\n\
        \t\t\t\"zip\": \"G1R 4S9\",\n\t\t\t\"country\": \"CA\",\n\t\t\t\"verification_value\"\
        : \"123\"\n\t\t}\n\t}\n}'\n```\n**Example Token Response**:  \n```  \n{\n\t\
        \"transaction\":  {\n\t\t\"token\":  \"KtToV20m9qT1Yi8pbTeLNz0Ypns\",\n\t\t\
        \"created_at\":  \"2023-11-29T13:31:56Z\",\n\t\t\"updated_at\":  \"2023-11-29T13:31:56Z\"\
        ,\n\t\t\"succeeded\":  true,\n\t\t\"transaction_type\":  \"AddPaymentMethod\"\
        ,\n\t\t\"retained\":  false,\n\t\t\"state\":  \"succeeded\",\n\t\t\"message_key\"\
        :  \"messages.transaction_succeeded\",\n\t\t\"message\":  \"Succeeded!\",\n\
        \t\t\"payment_method\":  {\n\t\t\t\"token\":  \"MxyYEhDK12CUAA18bJDkAq0ab3y\"\
        ,\n\t\t\t\"created_at\":  \"2023-11-29T13:31:56Z\",\n\t\t\t\"updated_at\"\
        :  \"2023-11-29T13:31:56Z\",\n\t\t\t\"email\":  \"aaa@bbb.ccc\",\n\t\t\t\"\
        data\":  null,\n\t\t\t\"storage_state\":  \"cached\",\n\t\t\t\"test\":  true,\n\
        \t\t\t\"metadata\":  null,\n\t\t\t\"callback_url\":  null,\n\t\t\t\"last_four_digits\"\
        :  \"1111\",\n\t\t\t\"first_six_digits\":  \"411111\",\n\t\t\t\"card_type\"\
        :  \"visa\",\n\t\t\t\"first_name\":  \"John\",\n\t\t\t\"last_name\":  \"Smith\"\
        ,\n\t\t\t\"month\":  9,\n\t\t\t\"year\":  2029,\n\t\t\t\"address1\":  \"123\
        \ 12th St\",\n\t\t\t\"address2\":  \"Building B\",\n\t\t\t\"city\":  \"Quebec\
        \ City\",\n\t\t\t\"state\":  \"QC\",\n\t\t\t\"zip\":  \"G1R 4S9\",\n\t\t\t\
        \"country\":  \"CA\",\n\t\t\t\"phone_number\":  null,\n\t\t\t\"company\":\
        \  null,\n\t\t\t\"full_name\":  \"John Smith\",\n\t\t\t\"eligible_for_card_updater\"\
        :  true,\n\t\t\t\"shipping_address1\":  null,\n\t\t\t\"shipping_address2\"\
        :  null,\n\t\t\t\"shipping_city\":  null,\n\t\t\t\"shipping_state\":  null,\n\
        \t\t\t\"shipping_zip\":  null,\n\t\t\t\"shipping_country\":  null,\n\t\t\t\
        \"shipping_phone_number\":  null,\n\t\t\t\"issuer_identification_number\"\
        :  \"41111111\",\n\t\t\t\"click_to_pay\":  false,\n\t\t\t\"managed\":  true,\n\
        \t\t\t\"payment_method_type\":  \"credit_card\",\n\t\t\t\"errors\":  [],\n\
        \t\t\t\"bin_metadata\":  {\n\t\t\t\t\"message\":  \"BIN Metadata is available\
        \ only to Advanced Vault enrolled customers and payment methods. Reach out\
        \ to your account representative for more details.\"\n\t\t\t},\n\t\t\t\"fingerprint\"\
        :  \"7ccffcf38900f224fc946cf2a9c8e260072b\",\n\t\t\t\"verification_value\"\
        :  \"XXX\",\n\t\t\t\"number\":  \"XXXX-XXXX-XXXX-1111\"\n\t\t}\n\t}\n}\n```\n\
        Here the returned payment method token **MxyYEhDK12CUAA18bJDkAq0ab3y** has\
        \ to be used in the Process DG Payment request below."
      operationId: postDg_contractsIdPayment
      parameters:
      - name: id
        in: path
        description: A unique identifier for a contract
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/process_dg_payment_request'
        required: true
      responses:
        '200':
          description: The contract has been paid
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/dg_payment'
        '400':
          description: Syntactic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/bad_request'
        '401':
          description: The client could not be authenticated
        '403':
          description: The authenticated client does not have permission to call this
            endpoint
        '404':
          description: The requested resource could not be found
        '422':
          description: Semantic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/unprocessable_entity'
        '500':
          description: The server encountered an internal error
      security:
      - PartnerAuth: []
        apiKeyAuth: []
  /dg_contracts/{id}/update_status:
    put:
      tags:
      - Disruption Guarantee (DG)
      summary: Update DG Contract Status
      description: Update DG Contract Status
      operationId: putDg_contractsIdUpdate_status
      parameters:
      - name: id
        in: path
        description: A unique identifier for a contract
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/update_dg_contract_status_request'
        required: true
      responses:
        '200':
          description: The Updated DG contract
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/dg_contract'
        '204':
          description: The DG contract status update request was successfully validated
            but not performed
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
        '400':
          description: Syntactic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/bad_request'
        '401':
          description: The client could not be authenticated
        '403':
          description: The authenticated client does not have permission to call this
            endpoint
        '404':
          description: The requested resource could not be found
        '422':
          description: Semantic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/unprocessable_entity'
        '500':
          description: The server encountered an internal error
      security:
      - PartnerAuth: []
        apiKeyAuth: []
  /dg_contracts/{id}/itinerary_slices:
    put:
      tags:
      - Disruption Guarantee (DG)
      summary: Update DG Contract Itinerary Slices
      description: Update itinerary slices of a DG contract.
      operationId: putDg_contractsIdItinerary_slices
      parameters:
      - name: id
        in: path
        description: A unique identifier for a contract
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              type: array
              minItems: 1
              items:
                $ref: '#/components/schemas/dg_itinerary_slice'
        required: true
      responses:
        '200':
          description: The Updated DG contract
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/dg_contract'
        '204':
          description: The DG Contract Itinerary Slices update request was successfully
            validated but not performed
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
        '400':
          description: Syntactic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/bad_request'
        '401':
          description: The client could not be authenticated
        '403':
          description: The authenticated client does not have permission to call this
            endpoint
        '404':
          description: The requested resource could not be found
        '422':
          description: Semantic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/unprocessable_entity'
        '500':
          description: The server encountered an internal error
      security:
      - PartnerAuth: []
        apiKeyAuth: []
  /dg_contract_exercises:
    post:
      tags:
      - Disruption Guarantee (DG)
      summary: Create DG Exercise
      description: Record that a request to exercise a DG contract has occurred.
      operationId: postDg_contract_exercises
      parameters:
      - name: HC-Session-ID
        in: header
        description: The ID of the current airline session, see [Sessions](#tag/Sessions)
        required: false
        schema:
          type: string
        example: 9fd3f2f9-e5aa-4128-ace9-3c4ee37b685f
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/create_dg_contract_exercise_request'
        required: true
      responses:
        '201':
          description: The created DG contract exercise
          headers:
            Expires:
              required: true
              schema:
                type: string
            Cache-Control:
              required: true
              schema:
                type: string
            HTS-Session-ID:
              description: The ID of the current session, see [Sessions](#tag/Sessions)
              required: true
              schema:
                type: string
              example: 9fd3f2f9-e5aa-4128-ace9-3c4ee37b685f
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/create_dg_contract_exercise_response'
        '400':
          description: Syntactic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/bad_request'
        '401':
          description: The client could not be authenticated
        '403':
          description: The authenticated client does not have permission to call this
            endpoint
        '404':
          description: The requested resource could not be found
        '422':
          description: Semantic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/unprocessable_entity'
        '500':
          description: The server encountered an internal error
      security:
      - PartnerAuth: []
        apiKeyAuth: []
  /auth:
    post:
      tags:
      - Authentication
      summary: Create an authentication token
      description: Get an authentication token
      operationId: postAuth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/auth_request'
        required: true
      responses:
        '201':
          description: The authentication response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/auth_response'
        '400':
          description: Syntactic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/bad_request'
        '401':
          description: The client could not be authenticated
        '403':
          description: The authenticated client does not have permission to call this
            endpoint
        '422':
          description: Semantic errors were encountered while handling the request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/unprocessable_entity'
components:
  schemas:
    airline_refund_method:
      title: airline_refund_method
      type: string
      enum:
      - ftc
      - cash
    airline_session:
      title: airline_session
      description: A airline session resource
      type: object
      required:
      - id
      properties:
        id:
          description: A unique identifier for a airline session
          example: af585dfd-dddf-4726-9ef7-f1bb8909a79a
          type: string
    ancillary:
      title: ancillary
      type: object
      required:
      - total_price
      - type
      properties:
        total_price:
          description: Total price of ancillaries of this type
          example: 20.55
          type: string
          minimum: 0
        passenger_reference:
          description: Unique reference of the passenger associated to this ancillary
          example: '1'
          type: string
        type:
          $ref: '#/components/schemas/ancillary_type'
        covered:
          description: Is this ancillary covered by the product. By default true if
            not specified
          type: boolean
    ancillary_type:
      title: ancillary_type
      description: The type of ancillary
      example: travel_insurance
      type: string
      enum:
      - travel_insurance
      - bag_insurance
      - cabin_bag
      - checked_bag
      - seat
      - lounge
      - meal
      - fast_track
      - pet
      - change
      - bundle
      - payment_fee
      - other
    android:
      title: android
      type: object
      required:
      - type
      properties:
        version:
          example: 15.0.2
          type: string
        type:
          example: i_os
          type: string
          const: android
    app:
      title: app
      type: object
      required:
      - type
      properties:
        operating_system:
          $ref: '#/components/schemas/operating_system'
        type:
          example: app
          type: string
          const: app
    auth_request:
      title: auth_request
      type: object
      required:
      - client_id
      - client_secret
      properties:
        client_id:
          type: string
        client_secret:
          type: string
    auth_response:
      title: auth_response
      type: object
      required:
      - access_token
      - scope
      - expires_in
      - token_type
      properties:
        access_token:
          description: The authentication token
          example: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImtjN2FjWmV4bHBvZk1QY3V6UF9HTyJ9.eyJpc3MiOiJodHRwczovL2hvcHBlci1hcGkuYXV0aDAuY29tLyIsInN1YiI6IlhVdWpRSlRCODFPdkVTODh1VDlPNHhIUzVNUkpZV2tCQGNsaWVudHMiLCJhdWQiOiJodHRwczovL3N0YWdpbmcuYXBpLmhvcHBlci5jb20iLCJpYXQiOjE2NTI5ODQ2ODEsImV4cCI6MTY1MzA3MTA4MSwiYXpwIjoiWFV1alFKVEI4MU92RVM4OHVUOU80eEhTNU1SSllXa0IiLCJzY29wZSI6ImFsbDpwcmljZWZyZWV6ZSBhbGw6Z2VuZXJhbCBhbGw6Y2ZhciIsImd0eSI6ImNsaWVudC1jcmVkZW50aWFscyJ9.VlKuMHJkGpOA-L9oJn-UBEOD7VdzLXQSn2DiTrlROR521uHupkRnI-_tDjYD-sygmNmI0bIb0UEQ2ETOyalFZICge8-qWpxBccM_rfgPemZ6Rs9fZSY8XjZtaM9sQEJ4OqwXQiIU0tQDVMfegj-4wnKglHAKzJ7X7wb05nSCP_g2cXIXL9mapnLT8vf609CZIz2cRuWvww5E9qlJ6mUQxsYBv9xwJoyF3IK8TCWUFFvu2xSendMltvUlCHJHjWpddFDTdkl1ErHq_ta-3e1n2ZjU1HVVux9dwWoZQDYJFprtDYjPS-jVhEljGMASB74zf_xbcWCwoa_HJlxLlhBhoQ
          type: string
        scope:
          description: Token's scope
          example: all:general all:cfar
          type: string
        expires_in:
          description: Token's expiration (in seconds)
          example: 86400
          type: integer
          format: int32
        token_type:
          $ref: '#/components/schemas/token_type'
    bad_request:
      title: bad_request
      type: object
      required:
      - errors
      properties:
        errors:
          type: array
          items:
            $ref: '#/components/schemas/error'
    booking_confirmed:
      title: booking_confirmed
      type: object
      required:
      - occurred_date_time
      - type
      properties:
        occurred_date_time:
          description: |-
            A UTC [RFC3339](https://xml2rfc.tools.ietf.org/public/rfc/html/rfc3339.html#anchor14) datetime;
             the date and time at which an event occurred on a client device
          example: '2022-01-24T15:34:30Z'
          type: string
          format: date-time
        cfar_contract_id:
          description: The purchased CFAR contract, if one is present
          type: string
        dg_contract_id:
          description: The purchased DG contract, if one is present
          type: string
        type:
          type: string
          const: booking_confirmed
    browser:
      title: browser
      oneOf:
      - $ref: '#/components/schemas/chrome'
      - $ref: '#/components/schemas/edge'
      - $ref: '#/components/schemas/firefox'
      - $ref: '#/components/schemas/internet_explorer'
      - $ref: '#/components/schemas/opera'
      - $ref: '#/components/schemas/other_browser'
      - $ref: '#/components/schemas/safari'
      discriminator:
        propertyName: type
        mapping:
          chrome: '#/components/schemas/chrome'
          edge: '#/components/schemas/edge'
          firefox: '#/components/schemas/firefox'
          internet_explorer: '#/components/schemas/internet_explorer'
          opera: '#/components/schemas/opera'
          other_browser: '#/components/schemas/other_browser'
          safari: '#/components/schemas/safari'
    cabin:
      title: cabin
      description: Service class of the segment
      type: string
      enum:
      - economy
      - premium_economy
      - business
      - first
    cash:
      title: cash
      type: object
      required:
      - amount
      - currency
      - type
      properties:
        amount:
          description: Amount charged on the form of payment
          type: string
          minimum: 0
        currency:
          description: Currency of the form of payment
          example: CAD
          type: string
        type:
          type: string
          const: cash
    cfar_contents:
      title: cfar_contents
      type: object
      required:
      - bullet_points
      - labels
      properties:
        bullet_points:
          description: An array containing the bullet points to be displayed
          type: array
          items:
            type: string
        labels:
          $ref: '#/components/schemas/map_string'
          description: A map of key-value pairs for storing all labels to be displayed
    cfar_contract:
      title: cfar_contract
      description: A CFAR contract
      type: object
      required:
      - id
      - reference
      - offers
      - itinerary
      - coverage_percentage
      - coverage
      - premium
      - currency
      - taxes_total
      - created_date_time
      - expiry_date_time
      - status
      - ext_attributes
      properties:
        id:
          description: Unique identifier for a contract
          example: 1ec9ef29-be31-6ed3-beec-9f5ae0d164ee
          type: string
        reference:
          description: Unique reference for a contract
          example: 1FE5772642C77BAB
          type: string
        offers:
          description: CFAR Offer(s) used to create the contract
          type: array
          items:
            $ref: '#/components/schemas/cfar_offer'
        itinerary:
          $ref: '#/components/schemas/cfar_itinerary'
          description: An object detailing the itinerary used to create a CFAR contract
        coverage_percentage:
          description: Percentage of the amount to be refunded to customer compared
            to flight tickets price
          example: '80.00'
          type: string
          minimum: 0
        coverage:
          description: Total amount to be refunded upon CFAR exercise
          example: '98.64'
          type: string
          minimum: 0
        premium:
          description: Total amount to be paid for CFAR
          example: '80.00'
          type: string
          minimum: 0
        currency:
          description: Currency of contract
          example: USD
          type: string
        taxes_total:
          description: Part of the premium which are taxes
          example: '3.90'
          type: string
          minimum: 0
        taxes:
          description: List of applicable taxes
          type: array
          items:
            $ref: '#/components/schemas/cfar_tax'
        created_date_time:
          description: A UTC [RFC3339](https://xml2rfc.tools.ietf.org/public/rfc/html/rfc3339.html#anchor14)
            datetime; the date and time at which a CFAR contract was created
          example: '2022-01-08T14:36:56Z'
          type: string
          format: date-time
        expiry_date_time:
          description: A UTC [RFC3339](https://xml2rfc.tools.ietf.org/public/rfc/html/rfc3339.html#anchor14)
            A UTC RFC3339 datetime; the date and time at which the CFAR contract will
            expire once purchased
          example: '2022-06-01T15:00:00Z'
          type: string
          format: date-time
        status:
          $ref: '#/components/schemas/cfar_status'
        pnr_reference:
          description: Reference of the PNR in the airline system
          example: ABC123
          type: string
        ext_attributes:
          $ref: '#/components/schemas/map_string'
          description: An array of arbitrary key-value pairs for storing airline-specific
            entity metadata
        exercise_url:
          description: URL to exercise the contract (if applicable)
          type: string
    cfar_contract_exercise:
      title: cfar_contract_exercise
      description: An object containing exercise information for a contract
      type: object
      required:
      - id
      - contract_id
      - exercise_initiated_date_time
      - cash_refund_allowance
      - ext_attributes
      - redirection_token
      properties:
        id:
          description: Unique identifier for a CFAR exercise
          example: 1ec9ef4b-b3bf-64ae-8a3d-6b084d9f6b3c
          type: string
        contract_id:
          description: Unique identifier for a contract
          example: 1ec9ef29-be31-6ed3-beec-9f5ae0d164ee
          type: string
        exercise_initiated_date_time:
          description: A UTC [RFC3339](https://xml2rfc.tools.ietf.org/public/rfc/html/rfc3339.html#anchor14)
            datetime; the date and time at which a contract exercise was initiated
          example: '2022-03-08T15:20:30Z'
          type: string
          format: date-time
        cash_refund_allowance:
          description: Refundable amount allowed in cash
          example: '49.32'
          type: string
          minimum: 0
        ext_attributes:
          $ref: '#/components/schemas/map_string'
          description: An array of arbitrary key-value pairs for storing airline-specific
            entity metadata
        ftc_refund_allowance:
          description: Refundable amount allowed in future travel credit
          example: '123.20'
          type: string
        currency:
          description: The currency of the airline's refund allowance
          example: CAD
          type: string
        redirection_token:
          description: Token used to authenticate the redirection after filling refund
            information in claims portal
          type: string
          format: uuid
        redirection_url:
          description: URL on which the customer should be redirected to exercise
            (if applicable)
          example: https://hts.hopper.com/
          type: string
    cfar_create_exercise_itinerary:
      title: cfar_create_exercise_itinerary
      description: Itinerary of the user when the contract exercise was initiated
        (only active segments should be provided)
      type: object
      required:
      - slices
      properties:
        passenger_pricing:
          description: List of passengers type, count and pricing for the itinerary
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/cfar_create_exercise_passenger_pricing'
        currency:
          description: Currency of pricing fields
          example: CAD
          type: string
        slices:
          description: List of slices of the itinerary; 1 (one way),  2 (round trip)
            or up to 10 (multi-destination) slices are allowed
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/cfar_create_exercise_itinerary_slice'
        ancillaries:
          description: Ancillaries attached to the itinerary and their prices. Only
            ancillaries covered by CFAR must be filled
          type: array
          items:
            $ref: '#/components/schemas/ancillary'
        total_price:
          description: Total price to be covered by CFAR (including ancillaries if
            applicable)
          example: '401.10'
          type: string
          minimum: 0
        passengers:
          description: Details of the passengers
          type: array
          items:
            $ref: '#/components/schemas/cfar_passenger'
        fare_rules:
          description: The fare rules associated to the itinerary. If different fare
            rules apply to different slices in the itinerary, indicate the most restrictive.
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/fare_rule'
    cfar_create_exercise_itinerary_slice:
      title: cfar_create_exercise_itinerary_slice
      description: An object containing the list of flight segments for a fare slice
      type: object
      required:
      - segments
      properties:
        segments:
          description: A list of segments which make up the slice
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/cfar_create_exercise_slice_segment'
        passenger_pricing:
          description: List of passengers type, count and pricing for the slice
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/passenger_pricing'
        total_price:
          description: The price of the slice for all the passengers
          example: '401.10'
          type: string
          minimum: 0
        fare_brand:
          description: Name of the fare brand applied to the slice
          example: flex
          type: string
        fare_basis:
          description: Code of the fare basis applied to the slice
          example: YBA123US
          type: string
        fare_rules:
          description: The fare rules associated to the slice
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/fare_rule'
        other_fares:
          description: Other available fares in the same cabin
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/fare'
    cfar_create_exercise_passenger_pricing:
      title: cfar_create_exercise_passenger_pricing
      type: object
      required:
      - passenger_count
      properties:
        passenger_count:
          $ref: '#/components/schemas/passenger_count'
          description: Type and number of passengers
        individual_price:
          description: Price per passenger (excluding ancillaries)
          example: '200.55'
          type: string
          minimum: 0
        taxes:
          description: Taxes applicable per passenger
          type: array
          items:
            $ref: '#/components/schemas/cfar_passenger_tax'
    cfar_create_exercise_slice_segment:
      title: cfar_create_exercise_slice_segment
      description: An object detailing a segment of a fare slice
      type: object
      required:
      - origin_airport
      - destination_airport
      - departure_date_time
      - arrival_date_time
      - flight_number
      properties:
        origin_airport:
          description: IATA airport code of origin
          example: BOS
          type: string
          pattern: '[A-Z]{3}'
        destination_airport:
          description: IATA airport code of destination
          example: LGA
          type: string
          pattern: '[A-Z]{3}'
        departure_date_time:
          description: The local date and time of departure in ISO Local Date Time
            format
          example: '2022-04-02T18:34:30'
          type: string
        arrival_date_time:
          description: The local date and time of arrival in ISO Local Date Time format
          example: '2022-04-02T19:12:30'
          type: string
        flight_number:
          description: The number of the flight
          example: JB776
          type: string
          pattern: ([A-Z][0-9]{2,5}|[0-9]{1,4}|[0-9][A-Z][0-9]{1,4}|[A-Z]{2}[0-9]{1,4})
        validating_carrier_code:
          description: The IATA airline code of the validating carrier for this segment
          example: B6
          type: string
          pattern: '[A-Z0-9]{2}'
        fare_class:
          $ref: '#/components/schemas/fare_class'
        fare_brand:
          description: Name of the fare brand applied to the segment (if applicable)
          type: string
    cfar_itinerary:
      title: cfar_itinerary
      type: object
      required:
      - passenger_pricing
      - currency
      - slices
      properties:
        passenger_pricing:
          description: List of passengers type, count and pricing for the itinerary
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/passenger_pricing'
        currency:
          description: Currency of pricing fields
          example: CAD
          type: string
        slices:
          description: List of slices of the itinerary; 1 (one way),  2 (round trip)
            or up to 10 (multi-destination) slices are allowed
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/cfar_itinerary_slice'
        ancillaries:
          description: Ancillaries attached to the itinerary and their prices. Only
            ancillaries covered by CFAR must be filled
          type: array
          items:
            $ref: '#/components/schemas/ancillary'
        total_price:
          description: Total price to be covered by CFAR (including ancillaries if
            applicable)
          example: '401.10'
          type: string
          minimum: 0
        passengers:
          description: Details of the passengers
          type: array
          items:
            $ref: '#/components/schemas/cfar_passenger'
        fare_rules:
          description: The fare rules associated to the itinerary. If different fare
            rules apply to different slices in the itinerary, indicate the most restrictive.
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/fare_rule'
        taxes:
          description: Taxes applicable to this itinerary
          type: array
          items:
            $ref: '#/components/schemas/cfar_passenger_tax'
    cfar_itinerary_slice:
      title: cfar_itinerary_slice
      description: An object containing the list of flight segments for a fare slice
      type: object
      required:
      - segments
      properties:
        segments:
          description: A list of segments which make up the slice
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/cfar_itinerary_slice_segment'
        passenger_pricing:
          description: List of passengers type, count and pricing for the slice
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/passenger_pricing'
        total_price:
          description: The price of the slice for all the passengers
          example: '401.10'
          type: string
          minimum: 0
        fare_brand:
          description: Name of the fare brand applied to the slice
          example: flex
          type: string
        fare_basis:
          description: Code of the fare basis applied to the slice
          example: YBA123US
          type: string
        fare_rules:
          description: The fare rules associated to the slice
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/fare_rule'
        other_fares:
          description: Other available fares in the same cabin
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/fare'
    cfar_itinerary_slice_segment:
      title: cfar_itinerary_slice_segment
      description: An object detailing a segment of a fare slice
      type: object
      required:
      - origin_airport
      - destination_airport
      - departure_date_time
      - arrival_date_time
      - flight_number
      - validating_carrier_code
      - fare_class
      properties:
        origin_airport:
          description: IATA airport code of origin
          example: BOS
          type: string
          pattern: '[A-Z]{3}'
        destination_airport:
          description: IATA airport code of destination
          example: LGA
          type: string
          pattern: '[A-Z]{3}'
        departure_date_time:
          description: The local date and time of departure in ISO Local Date Time
            format
          example: '2022-04-02T18:34:30'
          type: string
        arrival_date_time:
          description: The local date and time of arrival in ISO Local Date Time format
          example: '2022-04-02T19:12:30'
          type: string
        flight_number:
          description: The number of the flight
          example: JB776
          type: string
          pattern: ([A-Z][0-9]{2,5}|[0-9]{1,4}|[0-9][A-Z][0-9]{1,4}|[A-Z]{2}[0-9]{1,4})
        validating_carrier_code:
          description: The IATA airline code of the validating carrier for this segment
          example: B6
          type: string
          pattern: '[A-Z0-9]{2}'
        fare_class:
          $ref: '#/components/schemas/fare_class'
        fare_brand:
          description: Name of the fare brand applied to the segment (if applicable)
          type: string
    cfar_offer:
      title: cfar_offer
      description: A successful CFAR offer response
      type: object
      required:
      - id
      - premium
      - coverage
      - coverage_percentage
      - currency
      - taxes_total
      - request_type
      - contract_expiry_date_time
      - created_date_time
      - itinerary
      - contents
      - ext_attributes
      - experiments
      properties:
        id:
          description: Unique identifier for an offer
          example: 1ec9eed3-4486-6460-9d6c-2fb8469d35db
          type: string
        premium:
          description: Total amount to be paid for CFAR
          example: '40.80'
          type: string
          minimum: 0
        coverage:
          description: Total amount to be refunded upon CFAR exercise
          example: '400.00'
          type: string
          minimum: 0
        coverage_percentage:
          description: Percentage of the amount to be refunded to customer compared
            to flight tickets price
          example: '80.00'
          type: string
          minimum: 0
        coverage_extension:
          description: Maximum amount added on top of the coverage to cover ancillaries
          example: '40.00'
          type: string
          minimum: 0
        currency:
          description: Currency of offer
          example: CAD
          type: string
        taxes_total:
          description: 'Part of the premium which are taxes '
          example: '3.90'
          type: string
          minimum: 0
        taxes:
          description: List of applicable taxes
          type: array
          items:
            $ref: '#/components/schemas/cfar_tax'
        request_type:
          $ref: '#/components/schemas/request_type'
          description: Type of CFAR offer
        entry_point:
          description: Information about product placement on partner's website
          type: string
        contract_expiry_date_time:
          description: A UTC [RFC3339](https://xml2rfc.tools.ietf.org/public/rfc/html/rfc3339.html#anchor14)
            datetime; the date and time at which the CFAR contract will expire once
            purchased
          example: '2020-12-20T12:15:48Z'
          type: string
          format: date-time
        created_date_time:
          description: A UTC [RFC3339](https://xml2rfc.tools.ietf.org/public/rfc/html/rfc3339.html#anchor14)
            datetime; the date and time at which a CFAR offer was created
          example: '2020-11-02T18:34:30Z'
          type: string
          format: date-time
        itinerary:
          $ref: '#/components/schemas/cfar_itinerary'
          description: An object detailing the itinerary and fare used to create this
            CFAR offer
        contents:
          $ref: '#/components/schemas/map_cfar_contents'
        ext_attributes:
          $ref: '#/components/schemas/map_string'
          description: An array of arbitrary key-value pairs for storing airline-specific
            entity metadata
        experiments:
          $ref: '#/components/schemas/map_string'
          description: An array of arbitrary key-value pairs for storing partner-facing
            experiments
        terms_conditions_url:
          description: The terms and conditions for this offer
          type: string
        faq_url:
          description: The faq url for this offer
          type: string
        merchandising_url:
          description: The url for rendering offer merchandising
          type: string
    cfar_offer_itinerary:
      title: cfar_offer_itinerary
      type: object
      required:
      - passenger_pricing
      - currency
      - slices
      properties:
        passenger_pricing:
          description: List of passengers type, count and pricing for the itinerary
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/passenger_pricing'
        currency:
          description: Currency of pricing fields
          example: CAD
          type: string
        slices:
          description: List of slices of the itinerary; 1 (one way),  2 (round trip)
            or up to 10 (multi-destination) slices are allowed
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/cfar_itinerary_slice'
        ancillaries:
          description: Ancillaries attached to the itinerary and their prices. Only
            ancillaries covered by CFAR must be filled
          type: array
          items:
            $ref: '#/components/schemas/ancillary'
        total_price:
          description: Total price to be covered by CFAR (including ancillaries if
            applicable)
          example: '401.10'
          type: string
          minimum: 0
        passengers:
          description: Details of the passengers
          type: array
          items:
            $ref: '#/components/schemas/cfar_offer_passenger'
        fare_rules:
          description: The fare rules associated to the itinerary. If different fare
            rules apply to different slices in the itinerary, indicate the most restrictive.
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/fare_rule'
    cfar_offer_passenger:
      title: cfar_offer_passenger
      description: An object detailing the Passenger Information as part of offers
        creation
      type: object
      required:
      - passenger_reference
      - passenger_type
      properties:
        passenger_reference:
          description: Unique reference of the passenger
          example: '1'
          type: string
        passenger_type:
          $ref: '#/components/schemas/passenger_type'
          description: The type of passenger:<br />* adult - 12+ years of age<br/>*
            child - 2-11 years of age<br />* seated_infant - < 2 years of age, in
            their own seat<br />* lap_infant - < 2 years of age, not in their own
            seat
    cfar_passenger:
      title: cfar_passenger
      description: An object detailing the Passenger Information
      type: object
      required:
      - passenger_reference
      - passenger_type
      properties:
        passenger_reference:
          description: Unique reference of the passenger
          example: '1'
          type: string
        passenger_type:
          $ref: '#/components/schemas/passenger_type'
          description: The type of passenger:<br />* adult - 12+ years of age<br/>*
            child - 2-11 years of age<br />* seated_infant - < 2 years of age, in
            their own seat<br />* lap_infant - < 2 years of age, not in their own
            seat
        first_name:
          description: First name of the passenger
          example: John
          type: string
        last_name:
          description: Lastname of the passenger
          example: Smith
          type: string
    cfar_passenger_tax:
      title: cfar_passenger_tax
      type: object
      required:
      - code
      - amount
      - currency
      properties:
        code:
          description: Code of the tax
          example: RC
          type: string
        amount:
          description: The amount of the tax
          example: '0.20'
          type: string
          minimum: 0
        currency:
          description: The currency of the tax
          example: CAD
          type: string
    cfar_payment:
      title: cfar_payment
      type: object
      required:
      - succeeded
      properties:
        succeeded:
          description: Indicates if the transaction is successful
          example: true
          type: boolean
    cfar_status:
      title: cfar_status
      type: string
      enum:
      - created
      - confirmed
      - charged_back
      - voided
      - canceled
    cfar_tax:
      title: cfar_tax
      type: object
      required:
      - name
      - rate
      - amount
      - estimated
      properties:
        name:
          description: Name of the tax
          example: VAT
          type: string
        rate:
          description: The rate of the tax
          example: '12.00'
          type: string
          minimum: 0
        amount:
          description: The amount of the tax
          example: '20.00'
          type: string
          minimum: 0
        estimated:
          description: True if the tax amount is estimated, the real amount will be
            known only at contract confirmation
          example: false
          type: boolean
        registration_number:
          description: Registration number of the tax if applicable
          example: 0123456ABCDEF
          type: string
    chrome:
      title: chrome
      type: object
      required:
      - type
      properties:
        version:
          type: string
        type:
          type: string
          const: chrome
    chrome_os:
      title: chrome_os
      type: object
      required:
      - type
      properties:
        version:
          example: 15.0.2
          type: string
        type:
          example: i_os
          type: string
          const: chrome_os
    create_airline_cfar_session_request:
      title: create_airline_cfar_session_request
      description: An object containing information related to the user's session
      type: object
      required:
      - point_of_sale
      - language
      properties:
        user_info:
          $ref: '#/components/schemas/user_info'
        device:
          $ref: '#/components/schemas/device'
        session_id:
          description: The custom identifier for the customer's session. If omitted,
            a new session ID will be generated.
          example: d93dd7c9-39c0-499d-903b-d837282231c7
          type: string
        point_of_sale:
          description: An ISO 3166-1-alpha-2 country code; the point of sale of the
            user
          example: US
          type: string
        language:
          description: A ISO_639-1 country code; the language associated with the
            user
          example: es
          type: string
    create_airline_dg_session_request:
      title: create_airline_dg_session_request
      description: An object containing information related to the user's session
      type: object
      required:
      - point_of_sale
      - language
      properties:
        user_info:
          $ref: '#/components/schemas/user_info'
        device:
          $ref: '#/components/schemas/device'
        session_id:
          description: The custom identifier for the customer's session. If omitted,
            a new session ID will be generated.
          example: d93dd7c9-39c0-499d-903b-d837282231c7
          type: string
        point_of_sale:
          description: An ISO 3166-1-alpha-2 country code; the point of sale of the
            user
          example: US
          type: string
        language:
          description: A ISO_639-1 country code; the language associated with the
            user
          example: es
          type: string
    create_airline_session_request:
      title: create_airline_session_request
      type: object
      required:
      - flow_type
      - point_of_sale
      - language
      properties:
        flow_type:
          $ref: '#/components/schemas/flow_type'
        user_info:
          $ref: '#/components/schemas/user_info'
        session_id:
          description: The custom identifier for the customer's session. If omitted,
            a new session ID will be generated.
          example: d93dd7c9-39c0-499d-903b-d837282231c7
          type: string
        device:
          $ref: '#/components/schemas/device'
        point_of_sale:
          description: An ISO 3166-1-alpha-2 country code; the point of sale of the
            user
          example: US
          type: string
        language:
          description: A ISO_639-1 country code; the language associated with the
            user
          example: es
          type: string
        product:
          $ref: '#/components/schemas/product'
    create_cfar_contract_exercise_request:
      title: create_cfar_contract_exercise_request
      description: A create CFAR contract exercise request
      type: object
      required:
      - itinerary
      - pnr_reference
      - ext_attributes
      properties:
        contract_id:
          description: A unique identifier for a CFAR contract
          example: 1ec9ef29-be31-6ed3-beec-9f5ae0d164ee
          type: string
        itinerary:
          $ref: '#/components/schemas/cfar_create_exercise_itinerary'
        email_address:
          description: Email address of the user
          example: john@doe.com
          type: string
        pnr_reference:
          example: ABC123
          type: string
        airline_refund_penalty:
          description: The penalty fee applied by the airline when issuing a refund
            for the booking
          example: 99.00
          type: string
        airline_refund_method:
          $ref: '#/components/schemas/airline_refund_method'
          description: The refund method used by the airline
        currency:
          description: The currency of the airline's refund allowance
          example: CAD
          type: string
        ext_attributes:
          $ref: '#/components/schemas/map_string'
          description: An array of arbitrary key-value pairs for storing airline-specific
            entity metadata
        session:
          $ref: '#/components/schemas/create_airline_cfar_session_request'
        callback_url:
          description: URL on which the customer should be redirected after the exercise
            (if applicable)
          example: https://hts.hopper.com/
          type: string
        redirectback_url:
          description: URL on which the customer should be redirected if the exercise
            is aborted (if applicable)
          example: https://hts.hopper.com/
          type: string
        first_name:
          description: First name of the cardholder
          example: John
          type: string
        last_name:
          description: Last name of the cardholder
          example: Smith
          type: string
    create_cfar_contract_request:
      title: create_cfar_contract_request
      description: Create a CFAR contract from selected CFAR offer(s).
      type: object
      required:
      - offer_ids
      - itinerary
      - ext_attributes
      properties:
        offer_ids:
          description: Identifier of the offer(s) for which the contract is created
          example: 1ec9eed3-4486-6460-9d6c-2fb8469d35db
          type: array
          items:
            description: Unique identifier for an offer
            example: 2e1006b3-aba6-4899-8682-b95bce693c27
            type: string
        itinerary:
          $ref: '#/components/schemas/cfar_itinerary'
          description: An object detailing the itinerary used to create a CFAR contract
        ext_attributes:
          $ref: '#/components/schemas/map_string'
          description: An array of arbitrary key-value pairs for storing airline-specific
            entity metadata
        pnr_reference:
          description: Reference of the PNR in the airline system
          example: ABC123
          type: string
    create_cfar_offer_request:
      title: create_cfar_offer_request
      type: object
      required:
      - itinerary
      - request_type
      - ext_attributes
      properties:
        itinerary:
          description: An object detailing the itinerary and fare used to create a
            CFAR offer
          type: array
          items:
            $ref: '#/components/schemas/cfar_offer_itinerary'
            description: An object detailing an itinerary used to create a CFAR offer
        request_type:
          $ref: '#/components/schemas/request_type'
          description: Type of CFAR offer to be generated
        booking_date_time:
          description: A UTC RFC3339 datetime; the date and time at which the booking
            was made. To be used only with the request type "post_booking"
          example: '2022-01-01T18:30:00Z'
          type: string
          format: date-time
        ext_attributes:
          $ref: '#/components/schemas/map_string'
          description: An array of arbitrary key-value pairs for storing airline-specific
            entity metadata
        session:
          $ref: '#/components/schemas/create_airline_cfar_session_request'
        entry_point:
          description: Information about product placement on partner's website
          type: string
    create_dg_contract_exercise_request:
      title: create_dg_contract_exercise_request
      description: A create DG contract exercise request
      type: object
      required:
      - contract_id
      - itinerary
      - pnr_reference
      properties:
        contract_id:
          description: A unique identifier for a DG contract
          example: 1ec9ef29-be31-6ed3-beec-9f5ae0d164ee
          type: string
        itinerary:
          $ref: '#/components/schemas/dg_exercise_itinerary'
        pnr_reference:
          description: 'Reference of the PNR in the airline system. In case of a PNR
            created subsequently to a split, fill requesting PNR / parent PNR (e.g.
            DEF456/ABC123) '
          example: ABC123
          type: string
        email_address:
          description: Email address of the user
          example: john@doe.com
          type: string
        callback_url:
          description: URL on which the customer should be redirected after the exercise
            (if applicable)
          example: https://hts.hopper.com/
          type: string
        redirectback_url:
          description: URL on which the customer should be redirected if the exercise
            is aborted (if applicable)
          example: https://hts.hopper.com/
          type: string
        session:
          $ref: '#/components/schemas/create_airline_dg_session_request'
    create_dg_contract_exercise_response:
      title: create_dg_contract_exercise_response
      description: An object containing exercise information for a contract
      type: object
      required:
      - id
      properties:
        id:
          description: Unique identifier for a DG exercise
          example: 1ec9ef4b-b3bf-64ae-8a3d-6b084d9f6b3c
          type: string
        redirection_url:
          description: URL on which the customer should be redirected to exercise
            (if applicable)
          example: https://hts.hopper.com/
          type: string
    create_dg_contract_request:
      title: create_dg_contract_request
      description: A create DG contract request
      type: object
      required:
      - offer_ids
      - itinerary
      - ext_attributes
      properties:
        offer_ids:
          description: Identifier of the offer(s) for which the contract is created
          example: 1ec9eed3-4486-6460-9d6c-2fb8469d35db
          type: array
          items:
            description: Unique identifier for a DG offer
            example: 2e1006b3-aba6-4899-8682-b95bce693c27
            type: string
        itinerary:
          $ref: '#/components/schemas/dg_itinerary'
          description: An object detailing the itinerary used to create a DG contract
        ext_attributes:
          $ref: '#/components/schemas/map_string'
          description: An array of arbitrary key-value pairs for storing airline-specific
            entity metadata
        pnr_reference:
          description: Reference of the PNR in the airline system
          example: ABC123
          type: string
    create_dg_offer_item_response:
      title: create_dg_offer_item_response
      description: A created Dg offer
      type: object
      required:
      - id
      - premium
      - coverage
      - coverage_percentage
      - service_cap
      - currency
      - taxes_total
      - request_type
      - max_hours_before_departure
      - min_minutes_delay
      - created_date_time
      - contract_expiry_date_time
      - itinerary
      - ext_attributes
      - experiments
      - contents
      properties:
        id:
          description: Unique identifier for an offer
          example: 1ec9eed3-4486-6460-9d6c-2fb8469d35db
          type: string
        premium:
          description: Total amount to be paid for DG
          example: '40.80'
          type: string
          minimum: 0
        coverage:
          description: Total amount to be refunded upon DG exercise
          example: '400.00'
          type: string
          minimum: 0
        coverage_percentage:
          description: Percentage of the ticket’s value to be refunded upon DG exercise
          example: '80.00'
          type: string
          minimum: 0
        service_cap:
          example: '1000.00'
          type: string
          minimum: 0
        currency:
          description: Currency of offer
          example: CAD
          type: string
        taxes_total:
          description: Total of applicable taxes
          example: '20.00'
          type: string
          minimum: 0
        taxes:
          description: List of applicable taxes
          type: array
          items:
            $ref: '#/components/schemas/dg_tax'
        request_type:
          $ref: '#/components/schemas/dg_request_type'
          description: Type of DG offer
        entry_point:
          description: Information about product placement on partner's website
          type: string
        max_hours_before_departure:
          description: The number of hours before each flight or slice departure from
            which a purchased contract would start to cover disruptions
          example: '24'
          type: integer
          format: int32
          minimum: 0
          exclusiveMinimum: true
        min_minutes_delay:
          description: The minimum flight or slice departure delay in minutes to be
            covered
          example: '1'
          type: integer
          format: int32
          minimum: 0
          exclusiveMinimum: true
        created_date_time:
          description: A UTC [RFC3339](https://xml2rfc.tools.ietf.org/public/rfc/html/rfc3339.html#anchor14)
            datetime; the date and time at which a DG offer was created
          example: '2020-11-02T18:34:30Z'
          type: string
          format: date-time
        contract_expiry_date_time:
          description: A UTC [RFC3339](https://xml2rfc.tools.ietf.org/public/rfc/html/rfc3339.html#anchor14)
            datetime; the date and time at which the DG contract will expire once
            purchased
          example: '2020-12-20T12:15:48Z'
          type: string
          format: date-time
        itinerary:
          $ref: '#/components/schemas/dg_itinerary'
          description: An object detailing the itinerary and fare used to create this
            DG offer
        ext_attributes:
          $ref: '#/components/schemas/map_string'
          description: An array of arbitrary key-value pairs for storing airline-specific
            entity metadata
        experiments:
          $ref: '#/components/schemas/map_string'
          description: An array of arbitrary key-value pairs for storing partner-facing
            experiments
        contents:
          $ref: '#/components/schemas/map_dg_contents'
          description: One or more contents describing the offer and its conditions
            in the available languages
        terms_conditions_url:
          description: The terms and conditions for this offer
          type: string
        faq_url:
          description: The faq url for this offer
          type: string
        merchandising_url:
          description: The url for rendering offer merchandising
          type: string
        merchandising_url_web_component:
          description: The url for the web component SDK for rendering offer merchandising
          type: string
    create_dg_offers_request:
      title: create_dg_offers_request
      description: A create DG offers request
      type: object
      required:
      - itinerary
      - request_type
      - ext_attributes
      properties:
        itinerary:
          description: An object detailing the itinerary and fare used to create a
            DG offer
          type: array
          items:
            $ref: '#/components/schemas/dg_itinerary'
            description: An object detailing the fare used to create a DG offer
        request_type:
          $ref: '#/components/schemas/dg_request_type'
          description: Type of DG offer to be generated
        booking_date_time:
          description: A UTC RFC3339 datetime; the date and time at which the booking
            was made. To be used only with the request type "post_booking"
          example: '2022-01-01T18:30:00Z'
          type: string
          format: date-time
        session:
          $ref: '#/components/schemas/create_airline_dg_session_request'
        ext_attributes:
          $ref: '#/components/schemas/map_string'
          description: An array of arbitrary key-value pairs for storing airline-specific
            entity metadata
        entry_point:
          description: Information about product placement on partner's website
          type: string
    create_external_cfar_offer_request:
      title: create_external_cfar_offer_request
      description: Create a CFAR offer with externally provided pricing and coverage
      type: object
      required:
      - external_id
      - country_code
      - currency
      - to_usd_exchange_rate
      - premium_total_amount
      - premium_percentage
      - payout_total_amount
      - payout_percentage
      - taxes_total
      - contract_expiry_date_time
      - itinerary
      - min_minutes_delay
      properties:
        external_id:
          description: External identifier for this offer
          example: external-offer-123
          type: string
        country_code:
          description: Two-character country code in ISO 3166-1 format
          example: US
          type: string
        currency:
          description: Currency of the offer
          example: USD
          type: string
        to_usd_exchange_rate:
          description: Exchange rate from offer currency to USD
          example: 1.0
          type: string
          minimum: 0
          exclusiveMinimum: true
        premium_total_amount:
          description: Total premium amount (including taxes)
          example: 50.00
          type: string
          minimum: 0
        premium_percentage:
          description: Premium as a percentage of ticket price
          example: 0.05
          type: string
          minimum: 0
          exclusiveMinimum: true
        payout_total_amount:
          description: Total payout amount upon exercise
          example: 800.00
          type: string
          minimum: 0
        payout_percentage:
          description: Payout as a percentage of ticket price
          example: 0.80
          type: string
          minimum: 0
        taxes_total:
          description: Total taxes on the premium
          example: 5.00
          type: string
          minimum: 0
        contract_expiry_date_time:
          description: A UTC RFC3339 datetime; expiry date and time of the contract
            once purchased
          example: '2024-12-31T23:59:59Z'
          type: string
          format: date-time
        booking_date_time:
          description: A UTC RFC3339 datetime; the date and time at which the booking
            was made
          example: '2024-01-15T10:30:00Z'
          type: string
          format: date-time
        itinerary:
          $ref: '#/components/schemas/cfar_offer_itinerary'
          description: An object detailing the itinerary and fare used to create this
            CFAR offer
        min_minutes_delay:
          description: Minimum delay in minutes required for CFAR exercise eligibility
          example: 120
          type: integer
          format: int32
          minimum: 0
          exclusiveMinimum: true
        session:
          $ref: '#/components/schemas/create_airline_cfar_session_request'
    desktop:
      title: desktop
      type: object
      required:
      - id
      - type
      properties:
        id:
          description: A unique identifier for the end-user's device, generated by
            the partner
          example: eb2dddb7-dc69-4521-9fbb-762b96eb921f
          type: string
        platform:
          $ref: '#/components/schemas/platform'
        type:
          example: mobile
          type: string
          const: desktop
    device:
      title: device
      description: The end-user's device
      oneOf:
      - $ref: '#/components/schemas/desktop'
      - $ref: '#/components/schemas/mobile'
      - $ref: '#/components/schemas/tablet'
      discriminator:
        propertyName: type
        mapping:
          desktop: '#/components/schemas/desktop'
          mobile: '#/components/schemas/mobile'
          tablet: '#/components/schemas/tablet'
    dg_ancillary:
      title: dg_ancillary
      description: An object detailing the fare used to create a DG offer
      type: object
      required:
      - total_price
      - type
      properties:
        total_price:
          description: Total price of ancillaries of this type
          example: 20.55
          type: string
          minimum: 0
        passenger_reference:
          description: Unique reference of the passenger associated to this ancillary
          example: '1'
          type: string
        type:
          $ref: '#/components/schemas/dg_ancillary_type'
        covered:
          description: Is this ancillary covered by the product. By default true if
            not specified
          type: boolean
    dg_ancillary_type:
      title: dg_ancillary_type
      description: The type of ancillary
      type: string
      enum:
      - travel_insurance
      - bag_insurance
      - cabin_bag
      - checked_bag
      - seat
      - lounge
      - meal
      - fast_track
      - pet
      - change
      - bundle
      - payment_fee
      - other
    dg_contents:
      title: dg_contents
      type: object
      required:
      - bullet_points
      - labels
      properties:
        bullet_points:
          description: An array containing the bullet points to be displayed
          type: array
          items:
            type: string
        labels:
          $ref: '#/components/schemas/map_string'
          description: A map of key-value pairs for storing all labels to be displayed
    dg_contract:
      title: dg_contract
      description: A DG contract
      type: object
      required:
      - id
      - reference
      - status
      - offers
      - itinerary
      - coverage_percentage
      - coverage
      - premium
      - service_cap
      - currency
      - taxes_total
      - max_hours_before_departure
      - min_minutes_delay
      - created_date_time
      - expiry_date_time
      - ext_attributes
      properties:
        id:
          description: Unique identifier for a contract
          example: 1ec9ef29-be31-6ed3-beec-9f5ae0d164ee
          type: string
        reference:
          description: Unique reference for a contract
          example: 1FE5772642C77BAB
          type: string
        status:
          $ref: '#/components/schemas/dg_status'
        offers:
          description: DG Offer(s) used to create the contract
          type: array
          items:
            $ref: '#/components/schemas/dg_offer'
        itinerary:
          $ref: '#/components/schemas/dg_itinerary'
          description: An object detailing the itinerary used to create the DG contract
        coverage_percentage:
          description: Percentage of the ticket’s value to be refunded upon DG exercise
          example: '80.00'
          type: string
          minimum: 0
        coverage:
          description: Total amount to be refunded upon DG exercise
          example: '400.00'
          type: string
          minimum: 0
        premium:
          description: Total amount to be paid for DG
          example: '40.00'
          type: string
          minimum: 0
        service_cap:
          description: Allowed amount per passenger to book a new flight in case of
            disruption
          example: '1000.00'
          type: string
          minimum: 0
        currency:
          description: Currency of contract
          example: CAD
          type: string
        taxes_total:
          description: Part of the premium which are taxes
          example: '3.90'
          type: string
          minimum: 0
        taxes:
          description: List of applicable taxes
          type: array
          items:
            $ref: '#/components/schemas/dg_tax'
        max_hours_before_departure:
          description: The number of hours before each flight or slice departure from
            which a purchased contract would start to cover disruptions
          example: '24'
          type: integer
          format: int32
          minimum: 0
          exclusiveMinimum: true
        min_minutes_delay:
          description: The minimum flight or slice departure delay in minutes to be
            covered
          example: '1'
          type: integer
          format: int32
          minimum: 0
          exclusiveMinimum: true
        created_date_time:
          description: A UTC [RFC3339](https://xml2rfc.tools.ietf.org/public/rfc/html/rfc3339.html#anchor14)
            datetime; the date and time at which a CFAR contract was created
          example: '2022-01-08T14:36:56Z'
          type: string
          format: date-time
        expiry_date_time:
          description: A UTC [RFC3339](https://xml2rfc.tools.ietf.org/public/rfc/html/rfc3339.html#anchor14)
            A UTC RFC3339 datetime; the date and time at which the CFAR contract will
            expire once purchased
          example: '2022-06-01T15:00:00Z'
          type: string
          format: date-time
        language:
          description: Language of the booking
          example: EN
          type: string
        pnr_reference:
          description: Reference of the PNR in the airline system
          example: ABC123
          type: string
        ext_attributes:
          $ref: '#/components/schemas/map_string'
          description: An array of arbitrary key-value pairs for storing airline-specific
            entity metadata
    dg_exercise_itinerary:
      title: dg_exercise_itinerary
      description: Itinerary of the user when the contract exercise was initiated
        (only active segments should be provided)
      type: object
      required:
      - passenger_count
      - slices
      properties:
        passenger_count:
          description: List of passengers type and count for the itinerary
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/dg_passenger_count'
        slices:
          description: List of slices of the itinerary; 1 (one way),  2 (round trip)
            or up to 10 (multi-destination) slices are allowed
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/dg_exercise_itinerary_slice'
        passengers:
          description: Details of the passengers
          type: array
          items:
            $ref: '#/components/schemas/dg_passenger'
    dg_exercise_itinerary_slice:
      title: dg_exercise_itinerary_slice
      description: An object containing the list of flight segments for a fare slice
      type: object
      required:
      - segments
      properties:
        segments:
          description: A list of segments which make up the slice
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/dg_exercise_itinerary_slice_segment'
        irop:
          description: 'Is the slice impacted by an unplanned short-term Irregularity.
            It includes delays and cancellations that occur on the day of departure
            of the first impacted flight. Also known as: Flight Irregularity, IROP
            or IREG.'
          type: boolean
        invol:
          description: 'Is the slice resulting from a rebooking following an unplanned
            short-term Irregularity. It includes delays and cancellations that occur
            on the day of departure of the first impacted flight. Also known as: Flight
            Irregularity, IROP or IREG.'
          type: boolean
        previous_slice:
          $ref: '#/components/schemas/dg_exercise_itinerary_slice'
    dg_exercise_itinerary_slice_segment:
      title: dg_exercise_itinerary_slice_segment
      description: An object detailing a segment of a fare slice
      type: object
      required:
      - origin_airport
      - destination_airport
      - departure_date_time
      - arrival_date_time
      - estimated_departure_date_time
      - estimated_arrival_date_time
      - flight_number
      - validating_carrier_code
      - cabin
      - flight_status
      properties:
        origin_airport:
          description: IATA airport code of origin
          example: BOS
          type: string
          pattern: '[A-Z]{3}'
        destination_airport:
          description: IATA airport code of destination
          example: LGA
          type: string
          pattern: '[A-Z]{3}'
        departure_date_time:
          description: The local date and time of departure in ISO Local Date Time
            format
          example: '2022-04-02T18:34:30'
          type: string
        arrival_date_time:
          description: The local date and time of arrival in ISO Local Date Time format
          example: '2022-04-02T19:12:30'
          type: string
        estimated_departure_date_time:
          description: The local date and time of estimated time of departure in ISO
            Local Date Time format
          example: '2022-04-02T20:34:30'
          type: string
        estimated_arrival_date_time:
          description: The local date and time of estimated time of arrival in ISO
            Local Date Time format
          example: '2022-04-02T21:12:30'
          type: string
        flight_number:
          description: The number of the flight
          example: JB776
          type: string
          pattern: ([A-Z][0-9]{2,5}|[0-9]{1,4}|[0-9][A-Z][0-9]{1,4}|[A-Z]{2}[0-9]{1,4})
        validating_carrier_code:
          description: The IATA airline code of the validating carrier for this segment
          example: B6
          type: string
          pattern: '[A-Z0-9]{2}'
        cabin:
          $ref: '#/components/schemas/cabin'
        flight_status:
          $ref: '#/components/schemas/flight_status'
        checked_in:
          description: Is there at least one checked-in passenger on this flight
          type: boolean
        checked_in_bags:
          description: Is there at least one checked-in bag on this flight
          type: boolean
        checked_bag_allowance:
          description: Is there a checked bag allowance on this flight
          type: boolean
        boarded:
          description: Is there at least one passenger boarded on this flight
          type: boolean
        flown:
          description: Is this segment flown already
          type: boolean
    dg_itinerary:
      title: dg_itinerary
      type: object
      required:
      - passenger_pricing
      - currency
      - slices
      properties:
        passenger_pricing:
          description: List of passengers type, count and pricing for the itinerary
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/dg_passenger_pricing'
        currency:
          description: Currency of pricing fields
          example: CAD
          type: string
        slices:
          description: List of slices of the itinerary; 1 (one way),  2 (round trip)
            or up to 10 (multi-destination) slices are allowed
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/dg_itinerary_slice'
        ancillaries:
          description: Ancillaries attached to the itinerary and their prices
          type: array
          items:
            $ref: '#/components/schemas/dg_ancillary'
        total_price:
          description: Total price of the itinerary
          example: '401.10'
          type: string
          minimum: 0
        passengers:
          description: Details of the passengers
          type: array
          items:
            $ref: '#/components/schemas/dg_passenger'
    dg_itinerary_slice:
      title: dg_itinerary_slice
      description: An object containing the list of flight segments for a fare slice
      type: object
      required:
      - segments
      properties:
        segments:
          description: A list of segments which make up the slice
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/dg_itinerary_slice_segment'
        fare_brand:
          description: Name of the fare brand on the slice
          example: flex
          type: string
        passenger_pricing:
          description: List of passengers type, count and pricing for the current
            slice
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/dg_passenger_pricing'
    dg_itinerary_slice_segment:
      title: dg_itinerary_slice_segment
      description: An object detailing a segment of a fare slice
      type: object
      required:
      - origin_airport
      - destination_airport
      - departure_date_time
      - arrival_date_time
      - flight_number
      - validating_carrier_code
      - cabin
      properties:
        segment_id:
          description: A unique identifier for the segment
          example: 60a128e4-a12d-42bf-b977-b6329392282d
          type: string
        origin_airport:
          description: IATA airport code of origin
          example: BOS
          type: string
          pattern: '[A-Z]{3}'
        destination_airport:
          description: IATA airport code of destination
          example: LGA
          type: string
          pattern: '[A-Z]{3}'
        departure_date_time:
          description: The local date and time of departure in ISO Local Date Time
            format
          example: '2022-04-02T18:34:30'
          type: string
        arrival_date_time:
          description: The local date and time of arrival in ISO Local Date Time format
          example: '2022-04-02T19:12:30'
          type: string
        flight_number:
          description: The number of the flight
          example: JB776
          type: string
          pattern: ([A-Z][0-9]{2,5}|[0-9]{1,4}|[0-9][A-Z][0-9]{1,4}|[A-Z]{2}[0-9]{1,4})
        validating_carrier_code:
          description: The IATA airline code of the validating carrier for this segment
          example: B6
          type: string
          pattern: '[A-Z0-9]{2}'
        cabin:
          $ref: '#/components/schemas/cabin'
        fare_brand:
          description: Name of the fare brand applied to the segment (if applicable)
          type: string
    dg_offer:
      title: dg_offer
      description: A Dg offer
      type: object
      required:
      - id
      - premium
      - coverage
      - coverage_percentage
      - service_cap
      - currency
      - taxes_total
      - request_type
      - max_hours_before_departure
      - min_minutes_delay
      - contract_expiry_date_time
      - created_date_time
      - itinerary
      - ext_attributes
      - experiments
      - contents
      properties:
        id:
          description: Unique identifier for a DG offer
          example: 2e1006b3-aba6-4899-8682-b95bce693c27
          type: string
        premium:
          description: Total amount to be paid for DG
          example: '20.80'
          type: string
          minimum: 0
        coverage:
          description: Total amount to be refunded upon DG exercise
          example: '180.60'
          type: string
          minimum: 0
        coverage_percentage:
          description: Percentage of the amount to be refunded to customer compared
            to flight tickets price
          example: '80.00'
          type: string
          minimum: 0
        service_cap:
          description: Allowed amount per passenger to book a new flight in case of
            disruption
          example: '1000.00'
          type: string
          minimum: 0
        currency:
          description: Currency of offer
          example: CAD
          type: string
        taxes_total:
          description: Total of applicable taxes
          example: '20.00'
          type: string
          minimum: 0
        taxes:
          description: List of applicable taxes
          type: array
          items:
            $ref: '#/components/schemas/dg_tax'
        request_type:
          $ref: '#/components/schemas/dg_request_type'
          description: RequestType of offer
        entry_point:
          description: Information about product placement on partner's website
          type: string
        max_hours_before_departure:
          description: The number of hours before each flight or slice departure from
            which a purchased contract would start to cover disruptions
          example: '24'
          type: integer
          format: int32
          minimum: 0
          exclusiveMinimum: true
        min_minutes_delay:
          description: The minimum flight or slice departure delay in hours to be
            covered
          example: '1'
          type: integer
          format: int32
          minimum: 0
          exclusiveMinimum: true
        contract_expiry_date_time:
          description: A UTC [RFC3339](https://xml2rfc.tools.ietf.org/public/rfc/html/rfc3339.html#anchor14)
            datetime; the date and time at which the DG contract will expire once
            purchased
          example: '2020-12-20T12:15:48Z'
          type: string
          format: date-time
        created_date_time:
          description: A UTC [RFC3339](https://xml2rfc.tools.ietf.org/public/rfc/html/rfc3339.html#anchor14)
            datetime; the date and time at which a DG offer was created
          example: '2020-11-02T18:34:30Z'
          type: string
          format: date-time
        itinerary:
          $ref: '#/components/schemas/dg_itinerary'
          description: An object detailing the fare used to create a DG offer
        ext_attributes:
          $ref: '#/components/schemas/map_string'
        experiments:
          $ref: '#/components/schemas/map_string'
        contents:
          $ref: '#/components/schemas/map_dg_contents'
        terms_conditions_url:
          description: The terms and conditions for this offer
          type: string
        faq_url:
          description: The faq url for this offer
          type: string
        merchandising_url:
          description: The url for rendering offer merchandising
          type: string
        merchandising_url_web_component:
          description: The url for the web component SDK for rendering offer merchandising
          type: string
    dg_passenger:
      title: dg_passenger
      description: An object detailing the Passenger Information
      type: object
      required:
      - passenger_reference
      - passenger_type
      properties:
        passenger_reference:
          description: Unique reference of the passenger
          example: '1'
          type: string
        passenger_type:
          $ref: '#/components/schemas/dg_passenger_type'
          description: The type of passenger:<br />* adult - 12+ years of age<br/>*
            child - 2-11 years of age<br />* seated_infant - < 2 years of age, in
            their own seat<br />* lap_infant - < 2 years of age, not in their own
            seat
        first_name:
          description: Ancillaries attached to the itinerary and their prices
          example: John
          type: string
        last_name:
          description: Ancillaries attached to the itinerary and their prices
          example: Smith
          type: string
        date_of_birth:
          description: The birth date in ISO Local Date format
          example: '2000-04-02'
          type: string
          format: date
        gender:
          $ref: '#/components/schemas/gender'
        passport_number:
          description: The passport number of the passenger
          example: J12393496
          type: string
        passport_country_issuance:
          description: The country of issuance of the passenger's passport. Must be
            a valid ISO 3166-1 alpha-2 country code (2 uppercase letters, e.g., 'US',
            'JP', 'TH')
          example: US
          type: string
        passport_issuance_date:
          description: The date of issuance of the passenger's passport
          example: '2018-04-02'
          type: string
          format: date
        passport_expiration_date:
          description: The passport expiration date of the passenger
          example: '2030-04-02'
          type: string
          format: date
        nationality:
          description: The nationality of the passenger. Must be a valid ISO 3166-1
            alpha-2 country code (e.g., 'US', 'JP', 'TH')
          example: US
          type: string
    dg_passenger_count:
      title: dg_passenger_count
      type: object
      required:
      - count
      - passenger_type
      properties:
        count:
          description: Number of passenger type
          example: 3
          type: integer
          format: int32
          minimum: 0
          exclusiveMinimum: true
        passenger_type:
          $ref: '#/components/schemas/dg_passenger_type'
          description: The type of passenger:<br /> * adult - 12+ years of age<br
            /> * child - 2-11 years of age<br /> * seated_infant - < 2 years of age,
            in their own seat<br /> * lap_infant - < 2 years of age, not in their
            own seat
    dg_passenger_pricing:
      title: dg_passenger_pricing
      type: object
      required:
      - passenger_count
      - individual_price
      properties:
        passenger_count:
          $ref: '#/components/schemas/passenger_count'
          description: Type and number of passengers
        individual_price:
          description: Price per passenger
          example: '20.55'
          type: string
          minimum: 0
        taxes:
          description: Taxes applicable to this itinerary
          type: array
          items:
            $ref: '#/components/schemas/dg_passenger_tax'
    dg_passenger_tax:
      title: dg_passenger_tax
      type: object
      required:
      - code
      - amount
      - currency
      properties:
        code:
          description: Code of the tax
          example: RC
          type: string
        amount:
          description: The amount of the tax
          example: '0.20'
          type: string
          minimum: 0
        currency:
          description: The currency of the tax
          example: CAD
          type: string
    dg_passenger_type:
      title: dg_passenger_type
      type: string
      enum:
      - adult
      - child
      - seated_infant
      - lap_infant
    dg_payment:
      title: dg_payment
      type: object
      required:
      - succeeded
      properties:
        succeeded:
          description: Indicates if the transaction is successful
          example: true
          type: boolean
    dg_request_type:
      title: dg_request_type
      type: string
      enum:
      - post_booking
      - reprice
      - ancillary
      - bundle
      - fare
    dg_status:
      title: dg_status
      type: string
      enum:
      - created
      - confirmed
      - charged_back
      - voided
      - canceled
      - queued
      - failed
    dg_tax:
      title: dg_tax
      type: object
      required:
      - name
      - rate
      - amount
      properties:
        name:
          description: Name of the tax
          example: VAT
          type: string
        rate:
          description: The rate of the tax
          example: '12.00'
          type: string
          minimum: 0
        amount:
          description: The amount of the tax
          example: '20.00'
          type: string
          minimum: 0
        registration_number:
          description: Registration number of the tax if applicable
          example: 0123456ABCDEF
          type: string
    edge:
      title: edge
      type: object
      required:
      - type
      properties:
        version:
          type: string
        type:
          type: string
          const: edge
    error:
      title: error
      type: object
      required:
      - message
      properties:
        message:
          type: string
        code:
          type: string
        messages:
          $ref: '#/components/schemas/map_string'
    event:
      title: event
      oneOf:
      - $ref: '#/components/schemas/booking_confirmed'
      - $ref: '#/components/schemas/offers_displayed'
      discriminator:
        propertyName: type
        mapping:
          booking_confirmed: '#/components/schemas/booking_confirmed'
          offers_displayed: '#/components/schemas/offers_displayed'
    fare:
      title: fare
      type: object
      properties:
        price:
          description: The price of the slice for all the passengers with this fare
          example: '401.10'
          type: string
          minimum: 0
        fare_brand:
          description: Name of the fare brand of this fare
          example: flex
          type: string
        fare_basis:
          description: Code of the fare basis applied to this fare
          example: YBA123US
          type: string
        fare_rules:
          description: The fare rules associated to the fare
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/fare_rule'
    fare_class:
      title: fare_class
      description: Fare class of the segment
      type: string
      enum:
      - basic_economy
      - economy
      - premium_economy
      - business
      - first
    fare_rule:
      title: fare_rule
      type: object
      required:
      - modification_type
      - modification_time
      - allowed
      properties:
        modification_type:
          $ref: '#/components/schemas/modification_type'
        modification_time:
          $ref: '#/components/schemas/modification_time'
        allowed:
          description: Determines if that type of modifications at this time is allowed
          type: boolean
        fee:
          description: Amount to be paid as penalty fee to perform the modification
          type: string
          minimum: 0
        percentage:
          description: Percentage of the fare to be paid as penalty to perform the
            modification
          type: string
          minimum: 0
        refund_method:
          $ref: '#/components/schemas/airline_refund_method'
          description: Method of refund in question in this fare rule
    firefox:
      title: firefox
      type: object
      required:
      - type
      properties:
        version:
          type: string
        type:
          type: string
          const: firefox
    flight_status:
      title: flight_status
      description: The current flight status
      type: string
      enum:
      - confirmed
      - cancelled
    flow_type:
      title: flow_type
      description: The flow type for which the session is opened.
      type: string
      enum:
      - purchase
      - exercise
    form_of_payment:
      title: form_of_payment
      oneOf:
      - $ref: '#/components/schemas/cash'
      - $ref: '#/components/schemas/non_cash'
      - $ref: '#/components/schemas/payment_card'
      - $ref: '#/components/schemas/points'
      discriminator:
        propertyName: type
        mapping:
          cash: '#/components/schemas/cash'
          non_cash: '#/components/schemas/non_cash'
          payment_card: '#/components/schemas/payment_card'
          points: '#/components/schemas/points'
    gender:
      title: gender
      description: The gender of the passenger
      type: string
      enum:
      - male
      - female
      - undisclosed
      - unspecified
    i_os:
      title: i_os
      type: object
      required:
      - type
      properties:
        version:
          example: 15.0.2
          type: string
        type:
          example: i_os
          type: string
          const: i_os
    internet_explorer:
      title: internet_explorer
      type: object
      required:
      - type
      properties:
        version:
          type: string
        type:
          type: string
          const: internet_explorer
    linux:
      title: linux
      type: object
      required:
      - type
      properties:
        version:
          example: 15.0.2
          type: string
        type:
          example: i_os
          type: string
          const: linux
    mac_os:
      title: mac_os
      type: object
      required:
      - type
      properties:
        version:
          example: 15.0.2
          type: string
        type:
          example: i_os
          type: string
          const: mac_os
    map_cfar_contents:
      title: map_cfar_contents
      description: One or more contents describing the offer and its conditions in
        the available languages
      type: object
      additionalProperties:
        $ref: '#/components/schemas/cfar_contents'
    map_dg_contents:
      title: map_dg_contents
      type: object
      additionalProperties:
        $ref: '#/components/schemas/dg_contents'
    map_string:
      title: map_string
      type: object
      additionalProperties:
        type: string
    mark_cfar_contract_exercise_complete_request:
      title: mark_cfar_contract_exercise_complete_request
      description: An update CFAR contract exercise request
      type: object
      properties:
        refund_amount:
          description: Amount refunded to the customer
          example: '424.33'
          type: string
          minimum: 0
        refund_method:
          $ref: '#/components/schemas/airline_refund_method'
          description: The refund method chosen by the customer
    mobile:
      title: mobile
      type: object
      required:
      - id
      - type
      properties:
        id:
          description: A unique identifier for the end-user's device, generated by
            the partner
          example: eb2dddb7-dc69-4521-9fbb-762b96eb921f
          type: string
        platform:
          $ref: '#/components/schemas/platform'
        type:
          example: mobile
          type: string
          const: mobile
    modification_time:
      title: modification_time
      description: The time at which the modification is requested
      type: string
      enum:
      - after_departure
      - anytime
      - before_departure
    modification_type:
      title: modification_type
      description: The type of modifications in question in this fare rule
      type: string
      enum:
      - cancellation
      - change
    non_cash:
      title: non_cash
      type: object
      required:
      - amount
      - currency
      - type
      properties:
        amount:
          description: Amount charged on the form of payment
          type: string
          minimum: 0
        currency:
          description: Currency of the form of payment
          example: CAD
          type: string
        type:
          type: string
          const: non_cash
    offers_displayed:
      title: offers_displayed
      type: object
      required:
      - occurred_date_time
      - type
      properties:
        occurred_date_time:
          description: |-
            A UTC [RFC3339](https://xml2rfc.tools.ietf.org/public/rfc/html/rfc3339.html#anchor14) datetime;
             the date and time at which an event occurred on a client device
          example: '2022-01-24T15:34:30Z'
          type: string
          format: date-time
        type:
          type: string
          const: offers_displayed
    opera:
      title: opera
      type: object
      required:
      - type
      properties:
        version:
          type: string
        type:
          type: string
          const: opera
    operating_system:
      title: operating_system
      oneOf:
      - $ref: '#/components/schemas/android'
      - $ref: '#/components/schemas/chrome_os'
      - $ref: '#/components/schemas/i_os'
      - $ref: '#/components/schemas/linux'
      - $ref: '#/components/schemas/mac_os'
      - $ref: '#/components/schemas/other_os'
      - $ref: '#/components/schemas/windows'
      discriminator:
        propertyName: type
        mapping:
          android: '#/components/schemas/android'
          chrome_os: '#/components/schemas/chrome_os'
          i_os: '#/components/schemas/i_os'
          linux: '#/components/schemas/linux'
          mac_os: '#/components/schemas/mac_os'
          other_os: '#/components/schemas/other_os'
          windows: '#/components/schemas/windows'
    other_browser:
      title: other_browser
      type: object
      required:
      - name
      - type
      properties:
        name:
          type: string
        version:
          type: string
        type:
          type: string
          const: other_browser
    other_os:
      title: other_os
      type: object
      required:
      - name
      - type
      properties:
        name:
          example: 15.0.2
          type: string
        version:
          type: string
        type:
          example: i_os
          type: string
          const: other_os
    passenger_count:
      title: passenger_count
      type: object
      required:
      - count
      - type
      properties:
        count:
          description: Number of passenger type
          example: 3
          type: integer
          format: int32
          minimum: 0
          exclusiveMinimum: true
        type:
          $ref: '#/components/schemas/passenger_type'
          description: The type of passenger:<br/>* adult - 12+ years of age<br/>*
            child - 2-11 years of age<br/>* seated_infant - < 2 years of age, in their
            own seat
    passenger_pricing:
      title: passenger_pricing
      type: object
      required:
      - passenger_count
      - individual_price
      properties:
        passenger_count:
          $ref: '#/components/schemas/passenger_count'
          description: Type and number of passengers
        individual_price:
          description: Price per passenger (excluding ancillaries)
          example: '200.55'
          type: string
          minimum: 0
        taxes:
          description: Taxes applicable per passenger
          type: array
          items:
            $ref: '#/components/schemas/cfar_passenger_tax'
    passenger_type:
      title: passenger_type
      type: string
      enum:
      - adult
      - child
      - seated_infant
      - lap_infant
    payment_card:
      title: payment_card
      type: object
      required:
      - amount
      - currency
      - type
      properties:
        amount:
          description: Amount charged on the form of payment
          type: string
          minimum: 0
        currency:
          description: Currency of the form of payment
          example: CAD
          type: string
        token:
          description: Token of the payment card generated by HTS Payment Gateway
          type: string
        last_four_digits:
          description: Last four digits of the payment card
          type: string
        expiration_month:
          description: the expiry month of the payment card
          example: '09'
          type: string
        expiration_year:
          description: the expiry year of the payment card
          example: 26
          type: string
        type:
          type: string
          const: payment_card
    platform:
      title: platform
      oneOf:
      - $ref: '#/components/schemas/app'
      - $ref: '#/components/schemas/web'
      discriminator:
        propertyName: type
        mapping:
          app: '#/components/schemas/app'
          web: '#/components/schemas/web'
    points:
      title: points
      type: object
      required:
      - amount
      - type
      properties:
        amount:
          description: Amount charged on the form of payment
          type: string
          minimum: 0
        type:
          type: string
          const: points
    process_cfar_payment_request:
      title: process_cfar_payment_request
      description: A process CFAR payment request
      type: object
      required:
      - payment_method_token
      - first_name
      - last_name
      - pnr_reference
      - email_address
      properties:
        payment_method_token:
          description: 'The Token of the Form of Payment used to pay for the CFAR
            fee. '
          example: MxyYEhDK12CUAA18bJDkAq0ab3y
          type: string
        first_name:
          description: First name of the cardholder
          example: John
          type: string
        last_name:
          description: Last name of the cardholder
          example: Smith
          type: string
        address_line1:
          description: Address of the cardholder (first line)
          example: 123 12th St
          type: string
        address_line2:
          description: Address of the cardholder (second line)
          example: Building B
          type: string
        city:
          description: City of the cardholder
          example: Quebec City
          type: string
        state_or_province:
          description: State or province of the cardholder
          example: QC
          type: string
        postal_code:
          description: Postal code  of the cardholder
          example: G1R 4S9
          type: string
        country:
          description: Country of the cardholder
          example: CA
          type: string
        pnr_reference:
          description: Reference of the PNR in the airline system
          example: ABC123
          type: string
        email_address:
          description: Email address of the user
          example: aaa@bbb.ccc
          type: string
    process_dg_payment_request:
      title: process_dg_payment_request
      description: A process DG payment request
      type: object
      required:
      - payment_token
      - pnr_reference
      - email_address
      - phone_number
      properties:
        payment_token:
          description: 'The Token of the Form of Payment used to pay for the DG fee. '
          example: MxyYEhDK12CUAA18bJDkAq0ab3y
          type: string
        first_name:
          description: First name of the cardholder
          example: John
          type: string
        last_name:
          description: Last name of the cardholder
          example: Smith
          type: string
        address_line1:
          description: Address of the cardholder (first line)
          example: 123 12th St
          type: string
        address_line2:
          description: Address of the cardholder (second line)
          example: Building B
          type: string
        city:
          description: City of the cardholder
          example: Quebec City
          type: string
        state_or_province:
          description: State or province of the cardholder
          example: QC
          type: string
        postal_code:
          description: Postal code  of the cardholder
          example: G1R 4S9
          type: string
        country:
          description: Country of the cardholder
          example: CA
          type: string
        pnr_reference:
          description: Reference of the PNR in the airline system
          example: ABC123
          type: string
        email_address:
          description: Email address of the user
          example: aaa@bbb.ccc
          type: string
        phone_number:
          description: Phone number of the customer
          example: 12345678900
          type: string
    product:
      title: product
      description: The product for which the session is opened.<br/>Required for sessions
        having flow_type "exercise".
      type: string
      enum:
      - cfar
      - dg
      - all
    request_type:
      title: request_type
      type: string
      enum:
      - post_booking
      - reprice
      - ancillary
      - bundle
      - fare
    safari:
      title: safari
      type: object
      required:
      - type
      properties:
        version:
          type: string
        type:
          type: string
          const: safari
    tablet:
      title: tablet
      type: object
      required:
      - id
      - type
      properties:
        id:
          description: A unique identifier for the end-user's device, generated by
            the partner
          example: eb2dddb7-dc69-4521-9fbb-762b96eb921f
          type: string
        platform:
          $ref: '#/components/schemas/platform'
        type:
          example: mobile
          type: string
          const: tablet
    token_type:
      title: token_type
      type: string
      enum:
      - Bearer
    unprocessable_entity:
      title: unprocessable_entity
      type: object
      required:
      - errors
      properties:
        errors:
          type: array
          items:
            $ref: '#/components/schemas/error'
    update_cfar_contract_itinerary_slice_request:
      title: update_cfar_contract_itinerary_slice_request
      description: An itinerary slice containing only flight segments
      type: object
      required:
      - segments
      properties:
        segments:
          description: A list of segments which make up the slice
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/cfar_itinerary_slice_segment'
    update_cfar_contract_itinerary_slices_request:
      title: update_cfar_contract_itinerary_slices_request
      description: Request to update CFAR contract itinerary slices
      type: object
      required:
      - slices
      properties:
        slices:
          description: List of itinerary slices with flight segments
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/update_cfar_contract_itinerary_slice_request'
        passenger_counts:
          description: List of passenger types and counts
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/passenger_count'
        pnr_reference:
          description: Reference of the PNR in the airline system
          example: ABC123
          type: string
    update_cfar_contract_passenger_info_request:
      title: update_cfar_contract_passenger_info_request
      description: Request to update CFAR contract passenger information
      type: object
      required:
      - passengers
      properties:
        passengers:
          description: List of passengers with updated information
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/dg_passenger'
    update_cfar_contract_request:
      title: update_cfar_contract_request
      description: Update CFAR contract request
      type: object
      required:
      - status
      properties:
        status:
          $ref: '#/components/schemas/cfar_status'
          description: New status of the contract
        pnr_reference:
          description: Reference of the PNR in the airline system.<br/>Mandatory only
            if new status is "confirmed"
          example: ABC123
          type: string
        email_address:
          description: Email address of the user
          example: john@doe.com
          type: string
        phone_number:
          description: Phone number of the customer
          example: 12345678900
          type: string
        first_name:
          description: First name of the cardholder
          example: John
          type: string
        last_name:
          description: Last name of the cardholder
          example: Smith
          type: string
        address_line1:
          description: Address of the cardholder (first line)
          example: 123 12th St
          type: string
        address_line2:
          description: Address of the cardholder (second line)
          example: Building B
          type: string
        city:
          description: City of the cardholder
          example: Quebec City
          type: string
        state_or_province:
          description: State or province of the cardholder
          example: QC
          type: string
        postal_code:
          description: Postal code  of the cardholder
          example: G1R 4S9
          type: string
        country:
          description: Country of the cardholder
          example: CA
          type: string
        taxes_total:
          description: Total of taxes
          example: '20.00'
          type: string
          minimum: 0
        taxes:
          description: List of taxes that is associated with a contract
          type: array
          items:
            $ref: '#/components/schemas/cfar_tax'
        currency:
          description: Updated currency in case it has changed at payment time
          example: USD
          type: string
        exchange_rate:
          description: Exchange rate applied provided by partner if currency has changed
            at payment time, for instance, if a contract is created in EUR and the
            customer chose to pay in CAD on the partner's website, the partner will
            send us their exchange rate value from EUR to CAD.
          example: '0.75'
          type: string
        total_price:
          description: Updated total price to be covered by CFAR in case it can change
            at payment time
          example: '401.10'
          type: string
          minimum: 0
        forms_of_payment:
          description: List of the forms of payment used to purchase the booking
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/form_of_payment'
    update_cfar_form_of_payment_request:
      title: update_cfar_form_of_payment_request
      description: Request object related to the update of forms of payment for CFAR
        contract
      type: object
      required:
      - forms_of_payment
      properties:
        forms_of_payment:
          description: List of the forms of payment used to purchase the booking
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/form_of_payment'
    update_dg_contract_status_request:
      title: update_dg_contract_status_request
      description: A update DG contract status request
      type: object
      required:
      - status
      properties:
        status:
          $ref: '#/components/schemas/dg_status'
          description: New status of the contract
        pnr_reference:
          description: Reference of the PNR in the airline system.<br/>Mandatory only
            if new status is "confirmed"
          example: ABC123
          type: string
        email_address:
          description: Email address of the user
          example: john@doe.com
          type: string
        phone_number:
          description: Phone number of the customer
          example: 12345678900
          type: string
        first_name:
          description: First name of the cardholder
          example: John
          type: string
        last_name:
          description: Last name of the cardholder
          example: Smith
          type: string
        address_line1:
          description: Address of the cardholder (first line)
          example: 123 12th St
          type: string
        address_line2:
          description: Address of the cardholder (second line)
          example: Building B
          type: string
        city:
          description: City of the cardholder
          example: Quebec City
          type: string
        state_or_province:
          description: State or province of the cardholder
          example: QC
          type: string
        postal_code:
          description: Postal code  of the cardholder
          example: G1R 4S9
          type: string
        country:
          description: Country of the cardholder
          example: CA
          type: string
        taxes_total:
          description: Total of taxes
          example: '20.00'
          type: string
          minimum: 0
        taxes:
          description: List of taxes that is associated with a contract
          type: array
          items:
            $ref: '#/components/schemas/dg_tax'
        forms_of_payment:
          description: List of the forms of payment used to purchase the booking
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/form_of_payment'
    user_info:
      title: user_info
      description: An object containing information related to the airline's user.
        Should be included if known, but not if the user is anonymous.
      type: object
      required:
      - airline_user_id
      properties:
        airline_user_id:
          description: The airline's unique identifier for a user; can be an arbitrary
            string
          example: 2bcd6619-ac3e-403b-9982-3e12f2698a53
          type: string
        created_date_time:
          description: A UTC [RFC3339](https://xml2rfc.tools.ietf.org/public/rfc/html/rfc3339.html#anchor14)
            datetime; the date and time at which a user's account was created
          example: '2020-11-02T18:34:30Z'
          type: string
          format: date-time
        previous_bookings:
          description: Number of prior bookings a user has made
          example: 3
          type: integer
          format: int32
          minimum: 0
    web:
      title: web
      type: object
      required:
      - type
      properties:
        operating_system:
          $ref: '#/components/schemas/operating_system'
        browser:
          $ref: '#/components/schemas/browser'
        type:
          example: app
          type: string
          const: web
    windows:
      title: windows
      type: object
      required:
      - type
      properties:
        version:
          example: 15.0.2
          type: string
        type:
          example: i_os
          type: string
          const: windows
  securitySchemes:
    PartnerAuth:
      type: http
      description: |-
        This API is authenticated with OAuth 2, Client Credentials grant.\
        Clients should use their `client_id` and `client_secret` to obtain an `access_token`.\
        The `access_token` should be included in every request, as a `Bearer` token on an `Authorization` header.\
        Note that `access_token`s eventually expire, requiring a new token to be fetched.

        see [authentication](#tag/Authentication)
      scheme: bearer
    SessionAuth:
      type: apiKey
      description: |
        # Header Parameters
        | headerName      | description                                                                                        |
        |-----------------|----------------------------------------------------------------------------------------------------|
        | `HC-Session-ID` | string <br/> **Example**: `9fd3f2f9-e5aa-4128-ace9-3c4ee37b685f`<br/>The ID of the current session |
      name: HC-Session-ID
      in: header
